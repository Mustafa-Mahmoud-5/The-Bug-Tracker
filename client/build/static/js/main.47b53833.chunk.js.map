{"version":3,"sources":["assets/undraw_real_time_collaboration_c62i.png","assets/undraw_my_files_swob.png","assets/undraw_charts_jj6t.png","components/particles.js","components/OuterNav/OuterNav.js","components/Header/Header.js","components/Features/Feature.js","components/Features/Features.js","components/Footer/Footer.js","components/Outer/Outer.js","components/Form/Form.js","Apis/sendRequest.js","Apis/auth.js","components/Btn/LoadingBtn.js","containers/SignUp/SignUp.js","containers/SignIn/signIn.js","Apis/user.js","store/actions.js","store/actionTypes.js","components/Modal/Modal.js","helpers.js","components/Navbar/Navbar.js","components/Layout/Layout.js","containers/Profile/Profile.js","containers/Profile/EditProfile.js","components/Boxes/ProjectBox.js","Apis/project.js","containers/Projects/PersonalProjects.js","components/ProjectTimeline/ProjectTimeline.js","components/Statistics/Statistics.js","components/Bugs/Bugs.js","components/Bugs/BugDetails.js","components/Bugs/AddBug.js","components/Bugs/EditBug.js","Apis/bug.js","containers/ProjectDetails/ProjectDetails.js","components/Boxes/TeamBox.js","Apis/team.js","containers/Teams/AddTeam.js","containers/Teams/Teams.js","components/Teams/TeamNotifications.js","components/Teams/TeamProjects.js","components/Teams/TeamMembers.js","containers/Teams/AddMembers.js","containers/Teams/TeamDetails.js","containers/Projects/AddProject.js","containers/bugTracker/BugTracker.js","containers/ForgetPassword/ForgetPassword.js","containers/ForgetPassword/SubmitCode.js","containers/ForgetPassword/ChangePassword.js","App.js","serviceWorker.js","theme.js","store/reducer.js","index.js"],"names":["module","exports","particles","id","params","color","value","number","density","enable","value_area","shape","type","stroke","width","opacity","random","anim","speed","opacity_min","sync","size","size_min","line_linked","distance","move","direction","straight","out_mode","bounce","attract","rotateX","rotateY","interactivity","detect_on","events","onhover","mode","onclick","resize","modes","grab","bubble","duration","repulse","push","particles_nb","remove","height","retina_detect","OuterNav","elevation","href","withRouter","props","goToAuth","route","history","className","data-aos","variant","Button","style","marginRight","onClick","Feature","marginBottom","head","text","src","pic","alt","features","realTimePic","personalPic","statisticsPic","Features","map","feature","i","key","Footer","rel","target","fontSize","Outer","Form","Paper","Typography","textAlign","textTransform","children","sendRequest","url","body","config","sendToken","userToken","localStorage","getItem","req","axios","get","post","patch","delete","headers","Authorization","signup","signin","forgetPassword","receivePasswordRecoveryCode","changePassword","LoadingBtn","btnData","name","loading","CircularProgress","disableShrink","thickness","fullWidth","disabled","func","SignUp","state","firstName","lastName","email","password","writeHandler","e","setState","goToSignIn","submitHandler","a","preventDefault","response","enqueueSnackbar","data","message","setTimeout","error","onSubmit","this","TextField","label","onChange","required","Component","withSnackbar","SignIn","gotToProfile","cb","setItem","token","marginTop","to","editPersonalData","userNotifications","personalProjects","findUserWithPrivateKey","privateKey","teamId","regeneratePrivateKey","userTeams","forTeamSelecting","seenNotifications","clearNotifications","updateUserData","updatedUser","payload","useStyles","makeStyles","theme","modal","display","justifyContent","paddingTop","border","modalPaper","padding","outline","overflowY","TransitionsModal","classes","Modal","aria-labelledby","aria-describedby","open","modalOpen","onClose","closeModal","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Fade","in","header","toDate","date","Date","toLocaleString","root","position","appBar","backgroundColor","transition","transitions","create","easing","sharp","leavingScreen","appBarShift","marginLeft","easeOut","enteringScreen","menuButton","spacing","hide","drawer","flexShrink","drawerPaper","drawerHeader","alignItems","mixins","toolbar","content","flexGrow","breakpoints","down","contentShift","navLink","textDecoration","navActive","useTheme","React","useState","window","innerWidth","setOpen","notificationOpen","setNotificationOpen","device","addEventListener","closeDrawerOnNavigation","handleDrawerClose","handleNotificationOpen","seeNewNotifications","unseen","length","forEach","n","seen","CssBaseline","AppBar","clsx","Toolbar","IconButton","aria-label","edge","Tooltip","title","Badge","badgeContent","confirm","removeItem","Drawer","anchor","paper","Divider","List","index","toLowerCase","activeClassName","ListItem","button","ListItemIcon","Avatar","userImg","ListItemText","primary","ListItemAvatar","from","image","secondary","Layout","getUserNotifications","notifications","console","newNotifications","quickSeeNewNotifications","updatedNotifications","updatedNotification","socket","on","usersToAdd","log","userId","user","_id","toString","includes","kickedUser","Navbar","connect","currentUser","Profile","wirteHandler","newImageHandler","NProgress","start","imageObj","files","oldImagePublicKey","publicId","fd","FormData","set","append","updateUser","done","newKey","newPrivateKey","accept","htmlFor","component","PhotoCamera","PureComponent","dispatch","updatedKey","EditProfile","goToProfile","editUser","margin","project","bugText","bugs","fontStyle","createdAt","Visibility","owner","removeProject","DeleteForever","status","LockOutlined","LockOpenOutlined","projectDetails","projectId","newProject","projectTimeline","page","closeOrReOpenProject","deleteProject","PersonalProjects","projects","getPersonalProjects","Nprogress","Alert","severity","fontWeight","currentUserId","timeline","paginationItemsCount","tl","bug","wordBreak","Pagination","count","newPage","getProjectTimeLine","Statistics","statistics","Statfor","labels","concat","chartData","datasets","displayTitle","options","maintainAspectRatio","table","minWidth","sortedBugs","slice","sort","b","openModal","Add","TableContainer","Table","TableHead","TableRow","TableCell","align","TableBody","scope","openBug","creator","Edit","BugDetails","projectType","selectedBug","selectedBugStatus","selectedBugStatusColor","fixer","description","updateBugStatus","AddBug","addBug","TextareaAutosize","rowsMin","placeholder","newName","newDescription","editBugDetails","newBug","editBug","fixBug","reOpenBug","ProjectDetails","match","currentTeamId","projectStatistics","modalType","socketEvents","withLoading","alert","getProject","getProjectDetails","Promise","all","updateProjectStatus","updatedStatus","bugId","find","goBack","addNewBugForSocket","projectBugs","unshift","bugFixedOrReopenedForSocket","bugIndex","findIndex","updateStatisticsForSocket","total","buggy","fixed","updateProjectStatusForSocket","newTimeLineForSocket","newTimeline","newTimeLine","eventName","removeEventListener","EditBug","team","memberWord","members","projectWord","leader","removeTeam","leaveTeam","newTeam","addMembers","teamDetails","teamNotifications","kickMember","deleteTeam","AddTeam","Teams","teams","getTeams","addTeam","teamName","teamProjects","notificationType","p","paginateTeamNotifiactions","TeamProjects","projectsOfTeam","member","ListItemSecondaryAction","kickMemberFromTeam","AddMembers","membersToAdd","userKey","foundUser","getMember","removeFromList","memberId","updatedMembers","filter","addToList","changeHandler","outerLoading","trim","addMembersToTeam","TeamDetails","teamStatistics","socketListeners","getTeamData","getTeam","getTeamNotifications","saveCurrentTeamId","Nprogrss","reponse","membersList","updateTeamNotifications","notification","increaseTeamMembers","newMembers","updatedTeam","decreaseTeamMembers","updatedTeamMembers","mem","updateBugStatistics","totalBugs","buggyBugs","bugProjectIndex","bugProject","bugProjectBugs","fixedBugs","newProjectForTeam","updateProjectStatusForTeam","projectIndex","updateProjectsStatistics","totalProjects","openedProjects","closedProjects","teamMembers","newTeamNotifications","leaderId","newTeamNotification","projectLeaderIsKicked","AddProject","typeChangeHandler","fetchteams","navigateAfterAdding","FormControl","FormLabel","RadioGroup","FormControlLabel","control","Radio","InputLabel","Select","labelId","MenuItem","BugTracker","getUserData","exact","path","ForgetPassword","storeForgetedPasswordEmail","SubmitCode","code","slug","forgetPasswordEmail","ChangePassword","firstPassword","secondPassword","App","detectTokenPlaying","event","oldValue","newValue","getOut","AOS","init","offset","delay","once","mirror","routes","interceptors","use","reject","Boolean","location","hostname","createMuiTheme","palette","lightBlue","initialState","reducer","action","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","baseUrl","defaults","baseURL","io","ReactDOM","render","StrictMode","ThemeProvider","maxSnack","anchorOrigin","vertical","horizontal","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.47b53833.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/undraw_real_time_collaboration_c62i.acc980ab.png\";","module.exports = __webpack_public_path__ + \"static/media/undraw_my_files_swob.fece5d93.png\";","module.exports = __webpack_public_path__ + \"static/media/undraw_charts_jj6t.9a13f988.png\";","import Particles from 'react-particles-js';\r\n\r\nimport React from 'react'; // for using JSX\r\n\r\nfunction particles() {\r\n\treturn (\r\n\t\t<div id='particles'>\r\n\t\t\t<Particles\r\n\t\t\t\tparams={{\r\n\t\t\t\t\tcolor: {\r\n\t\t\t\t\t\tvalue: '#03a9f4'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tparticles: {\r\n\t\t\t\t\t\tnumber: {\r\n\t\t\t\t\t\t\tvalue: 80,\r\n\t\t\t\t\t\t\tdensity: {\r\n\t\t\t\t\t\t\t\tenable: true,\r\n\t\t\t\t\t\t\t\tvalue_area: 800\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcolor: {\r\n\t\t\t\t\t\t\tvalue: [ '#03a9f4' ]\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tshape: {\r\n\t\t\t\t\t\t\ttype: 'circle',\r\n\t\t\t\t\t\t\tstroke: {\r\n\t\t\t\t\t\t\t\twidth: 0,\r\n\t\t\t\t\t\t\t\tcolor: '#03a9f4'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\topacity: {\r\n\t\t\t\t\t\t\tvalue: 0.5211089197812949,\r\n\t\t\t\t\t\t\trandom: false,\r\n\t\t\t\t\t\t\tanim: {\r\n\t\t\t\t\t\t\t\tenable: true,\r\n\t\t\t\t\t\t\t\tspeed: 1,\r\n\t\t\t\t\t\t\t\topacity_min: 0.1,\r\n\t\t\t\t\t\t\t\tsync: false\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsize: {\r\n\t\t\t\t\t\t\tvalue: 6.017060304327615,\r\n\t\t\t\t\t\t\trandom: true,\r\n\t\t\t\t\t\t\tanim: {\r\n\t\t\t\t\t\t\t\tenable: true,\r\n\t\t\t\t\t\t\t\tspeed: 12.181158184520175,\r\n\t\t\t\t\t\t\t\tsize_min: 0.1,\r\n\t\t\t\t\t\t\t\tsync: true\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tline_linked: {\r\n\t\t\t\t\t\t\tenable: true,\r\n\t\t\t\t\t\t\tdistance: 150,\r\n\t\t\t\t\t\t\tcolor: '#c8c8c8',\r\n\t\t\t\t\t\t\topacity: 0.4,\r\n\t\t\t\t\t\t\twidth: 1\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tmove: {\r\n\t\t\t\t\t\t\tenable: true,\r\n\t\t\t\t\t\t\tspeed: 1,\r\n\t\t\t\t\t\t\tdirection: 'none',\r\n\t\t\t\t\t\t\trandom: false,\r\n\t\t\t\t\t\t\tstraight: false,\r\n\t\t\t\t\t\t\tout_mode: 'bounce',\r\n\t\t\t\t\t\t\tbounce: false,\r\n\t\t\t\t\t\t\tattract: {\r\n\t\t\t\t\t\t\t\tenable: false,\r\n\t\t\t\t\t\t\t\trotateX: 600,\r\n\t\t\t\t\t\t\t\trotateY: 1200\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tinteractivity: {\r\n\t\t\t\t\t\tdetect_on: 'canvas',\r\n\t\t\t\t\t\tevents: {\r\n\t\t\t\t\t\t\tonhover: {\r\n\t\t\t\t\t\t\t\tenable: false,\r\n\t\t\t\t\t\t\t\tmode: 'repulse'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tonclick: {\r\n\t\t\t\t\t\t\t\tenable: false,\r\n\t\t\t\t\t\t\t\tmode: 'push'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tresize: true\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tmodes: {\r\n\t\t\t\t\t\t\tgrab: {\r\n\t\t\t\t\t\t\t\tdistance: 400,\r\n\t\t\t\t\t\t\t\tline_linked: {\r\n\t\t\t\t\t\t\t\t\topacity: 1\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tbubble: {\r\n\t\t\t\t\t\t\t\tdistance: 400,\r\n\t\t\t\t\t\t\t\tsize: 40,\r\n\t\t\t\t\t\t\t\tduration: 2,\r\n\t\t\t\t\t\t\t\topacity: 8,\r\n\t\t\t\t\t\t\t\tspeed: 3\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\trepulse: {\r\n\t\t\t\t\t\t\t\tdistance: 200,\r\n\t\t\t\t\t\t\t\tduration: 0.4\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tpush: {\r\n\t\t\t\t\t\t\t\tparticles_nb: 4\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tremove: {\r\n\t\t\t\t\t\t\t\tparticles_nb: 2\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t\theight='inherit'\r\n\t\t\t\tretina_detect={true}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default particles;\r\n","import React from 'react';\r\nimport './OuterNav.scss';\r\nfunction OuterNav() {\r\n\treturn (\r\n\t\t<div elevation={3} id='NavPaper'>\r\n\t\t\t<ul id='OuterNav'>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<a href='#About'>About</a>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<a href='#Features'>Features</a>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<a href='#Author'>Author</a>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default OuterNav;\r\n","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Particles from '../particles';\r\nimport './Header.scss';\r\nimport OuterNav from '../OuterNav/OuterNav';\r\nimport { withRouter } from 'react-router-dom';\r\nfunction header(props) {\r\n\tconst goToAuth = route => {\r\n\t\tprops.history.push(route);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<header>\r\n\t\t\t<OuterNav />\r\n\t\t\t<div id='About'>\r\n\t\t\t\t<Particles />\r\n\t\t\t\t<div className='headerBox' data-aos='fade-up'>\r\n\t\t\t\t\t<h1>\r\n\t\t\t\t\t\t<span className='primaryColor' variant='span'>\r\n\t\t\t\t\t\t\tTHE BUG TRACKER\r\n\t\t\t\t\t\t</span>{' '}\r\n\t\t\t\t\t\tsoftware is a free open source bug tracking application.\r\n\t\t\t\t\t</h1>\r\n\r\n\t\t\t\t\t<p className='text-md'>\r\n\t\t\t\t\t\tThe application allows you to work in an isolated environment for tracking your personal\r\n\t\t\t\t\t\tprojects as well as working in a realtime environment with your teams for tracking team\r\n\t\t\t\t\t\tprojects.\r\n\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t<p className='text-md bold'>Every thing happens while working with your team is realtime.</p>\r\n\t\t\t\t\t<p className='text-md italic'>Sign up and start tracking your application bugs now.</p>\r\n\t\t\t\t\t<div className='authBox'>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tstyle={{ marginRight: '10px' }}\r\n\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\tonClick={() => goToAuth('/signup')}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tSign Up\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button color='primary' variant='contained' size='large' onClick={() => goToAuth('/signin')}>\r\n\t\t\t\t\t\t\tSign In\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</header>\r\n\t);\r\n}\r\n\r\nexport default withRouter(header);\r\n","import React from 'react';\r\n\r\nfunction Feature(props) {\r\n\treturn (\r\n\t\t<div className='row' style={{ marginBottom: '1rem' }}>\r\n\t\t\t<div className='col-md-6'>\r\n\t\t\t\t<h2 className='primaryColor'>{props.head}</h2>\r\n\r\n\t\t\t\t<p className='italic text-md'>{props.text}</p>\r\n\t\t\t</div>\r\n\t\t\t<div className='col-md-6'>\r\n\t\t\t\t<img src={props.pic} alt='pic' />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Feature;\r\n","import React from 'react';\r\nimport realTimePic from '../../assets/undraw_real_time_collaboration_c62i.png';\r\nimport personalPic from '../../assets/undraw_my_files_swob.png';\r\nimport statisticsPic from '../../assets/undraw_charts_jj6t.png';\r\nimport Feature from './Feature';\r\n\r\nconst features = [\r\n\t{\r\n\t\thead: '1.Realtime Environment',\r\n\t\ttext:\r\n\t\t\t'If someone changed something in your team projects/bugs, these changes will get changed in front of you immediately',\r\n\t\tpic: realTimePic\r\n\t},\r\n\t{\r\n\t\thead: '2.Personal Environment',\r\n\t\ttext: 'You can also start tracking your side projects in an individual environment',\r\n\t\tpic: personalPic\r\n\t},\r\n\t{\r\n\t\thead: '3.Statistics Visualization',\r\n\t\ttext: 'Your team and projects statistics will get visualized so you can easily know if you are on track',\r\n\t\tpic: statisticsPic\r\n\t}\r\n];\r\nfunction Features() {\r\n\treturn (\r\n\t\t<div className='container' id='Features'>\r\n\t\t\t{features.map((feature, i) => (\r\n\t\t\t\t<Feature key={i} head={feature.head} text={feature.text} pic={feature.pic} />\r\n\t\t\t))}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Features;\r\n","import React from 'react';\r\nimport './Footer.scss';\r\nimport LinkedInIcon from '@material-ui/icons/LinkedIn';\r\nimport GitHubIcon from '@material-ui/icons/GitHub';\r\nfunction Footer() {\r\n\treturn (\r\n\t\t<footer id='Author'>\r\n\t\t\t<h2> &#169; All Rights Reserved to Mustafa Mahmoud</h2>\r\n\t\t\t<div>\r\n\t\t\t\t<a\r\n\t\t\t\t\thref='https://www.linkedin.com/in/mustafa-mahmoud-a80a221b4/'\r\n\t\t\t\t\trel='noopener noreferrer'\r\n\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t>\r\n\t\t\t\t\t<LinkedInIcon style={{ color: '#0077B5', fontSize: '50px' }} />\r\n\t\t\t\t</a>\r\n\r\n\t\t\t\t<a href='https://github.com/Mustafa-Mahmoud-5' rel='noopener noreferrer' target='_blank'>\r\n\t\t\t\t\t<GitHubIcon style={{ color: 'black', fontSize: '50px' }} />\r\n\t\t\t\t</a>\r\n\t\t\t</div>\r\n\t\t</footer>\r\n\t);\r\n}\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\nimport Header from '../Header/Header';\r\nimport Features from '../Features/Features';\r\nimport Footer from '../Footer/Footer';\r\nfunction Outer() {\r\n\treturn (\r\n\t\t<div id='outer'>\r\n\t\t\t<Header />\r\n\t\t\t<Features />\r\n\t\t\t<Footer />\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Outer;\r\n","import React from 'react';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport './Form.scss';\r\n\r\nfunction Form(props) {\r\n\tconst { type } = props;\r\n\treturn (\r\n\t\t<div id='authPage'>\r\n\t\t\t<Paper id='authForm' elevation={3}>\r\n\t\t\t\t<Typography\r\n\t\t\t\t\tvariant='h4'\r\n\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\tstyle={{ marginBottom: '20px', textAlign: 'center', textTransform: 'capitalize' }}\r\n\t\t\t\t>\r\n\t\t\t\t\t{type}\r\n\t\t\t\t</Typography>\r\n\r\n\t\t\t\t{/* form */}\r\n\t\t\t\t{props.children}\r\n\t\t\t</Paper>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Form;\r\n","import axios from 'axios';\r\n\r\nconst sendRequest = (type, url, body, sendToken = true) => {\r\n\tconst userToken = localStorage.getItem('token');\r\n\tconst req =\r\n\t\ttype === 'GET'\r\n\t\t\t? axios.get\r\n\t\t\t: type === 'POST' ? axios.post : type === 'PATCH' ? axios.patch : type === 'DELETE' ? axios.delete : null;\r\n\r\n\tlet config;\r\n\r\n\tif (sendToken) {\r\n\t\tconfig = { headers: { 'Content-Type': 'application/json', Authorization: `Bearer ${userToken}` } };\r\n\t} else {\r\n\t\tconfig = null;\r\n\t}\r\n\r\n\treturn type === 'GET' || type === 'DELETE' ? req(url, config) : req(url, body, config);\r\n};\r\n\r\nexport default sendRequest;\r\n","import sendRequest from './sendRequest';\r\n\r\n// Auth\r\nexport function signup(body) {\r\n\treturn sendRequest('POST', '/auth/signup', body, false);\r\n}\r\n\r\nexport function signin(body) {\r\n\treturn sendRequest('POST', '/auth/signIn', body, false);\r\n}\r\n\r\nexport function forgetPassword(body) {\r\n\treturn sendRequest('POST', '/auth/forgetPassword', body, false);\r\n}\r\n\r\nexport function receivePasswordRecoveryCode(body) {\r\n\treturn sendRequest('POST', '/auth/receivePasswordRecoveryCode', body, false);\r\n}\r\n\r\nexport function changePassword(body) {\r\n\treturn sendRequest('POST', '/auth/changePassword', body, false);\r\n}\r\n","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\n/*\r\nREQUIRED PROPS\r\n  name\r\n  type\r\n\tloading\r\n\tdisabled\r\n*/\r\n\r\nfunction LoadingBtn(props) {\r\n\tlet btnData = props.name;\r\n\r\n\tif (props.loading) {\r\n\t\tbtnData = <CircularProgress variant='indeterminate' disableShrink color='primary' size={25} thickness={4} />;\r\n\t}\r\n\r\n\treturn props.type === 'submit' ? (\r\n\t\t<Button\r\n\t\t\tvariant='contained'\r\n\t\t\tcolor='primary'\r\n\t\t\tfullWidth={props.fullWidth}\r\n\t\t\ttype={props.type}\r\n\t\t\tdisabled={props.loading || props.disabled}\r\n\t\t>\r\n\t\t\t{btnData}\r\n\t\t</Button>\r\n\t) : (\r\n\t\t<Button\r\n\t\t\tvariant='contained'\r\n\t\t\tcolor='primary'\r\n\t\t\tfullWidth={props.fullWidth}\r\n\t\t\tdisabled={props.loading || props.disabled}\r\n\t\t\tonClick={props.func}\r\n\t\t>\r\n\t\t\t{btnData}\r\n\t\t</Button>\r\n\t);\r\n}\r\n\r\nexport default LoadingBtn;\r\n","import React, { Component } from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Form from '../../components/Form/Form';\r\nimport { signup } from '../../Apis/auth';\r\nimport { withSnackbar } from 'notistack';\r\nimport LoadingBtn from '../../components/Btn/LoadingBtn';\r\n\r\nexport class SignUp extends Component {\r\n\tstate = {\r\n\t\tfirstName: '',\r\n\t\tlastName: '',\r\n\t\temail: '',\r\n\t\tpassword: '',\r\n\t\tloading: false\r\n\t};\r\n\r\n\twriteHandler = e => {\r\n\t\tthis.setState({ [e.target.name]: e.target.value });\r\n\t};\r\n\r\n\tgoToSignIn = () => {\r\n\t\tthis.props.history.push('/signin');\r\n\t};\r\n\r\n\tsubmitHandler = async e => {\r\n\t\te.preventDefault();\r\n\r\n\t\tconst { firstName, lastName, email, password } = this.state;\r\n\r\n\t\tthis.setState({ loading: true });\r\n\r\n\t\tconst body = { firstName, lastName, email, password };\r\n\r\n\t\ttry {\r\n\t\t\tconst response = await signup(body);\r\n\r\n\t\t\tthis.setState({ loading: false, firstName: '', lastName: '', email: '', password: '' });\r\n\r\n\t\t\tthis.props.enqueueSnackbar(response.data.message, { variant: 'success' });\r\n\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.goToSignIn();\r\n\t\t\t}, 1000);\r\n\t\t} catch (error) {\r\n\t\t\tthis.setState({ loading: false });\r\n\r\n\t\t\tthis.props.enqueueSnackbar(error.response ? error.response.data.error : 'Something Went Wrong', {\r\n\t\t\t\tvariant: 'error'\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Form type='Sign Up'>\r\n\t\t\t\t<form onSubmit={this.submitHandler}>\r\n\t\t\t\t\t<div className='inpWrapper'>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tid='outlined-basic'\r\n\t\t\t\t\t\t\tname='firstName'\r\n\t\t\t\t\t\t\tlabel='First Name'\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tvalue={this.state.firstName}\r\n\t\t\t\t\t\t\tonChange={this.writeHandler}\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='inpWrapper'>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tid='outlined-basic'\r\n\t\t\t\t\t\t\tname='lastName'\r\n\t\t\t\t\t\t\tlabel='Last Name'\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tvalue={this.state.lastName}\r\n\t\t\t\t\t\t\tonChange={this.writeHandler}\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='inpWrapper'>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tid='outlined-basic'\r\n\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\tlabel='Email'\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\tvalue={this.state.email}\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tonChange={this.writeHandler}\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='inpWrapper'>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tid='outlined-basic'\r\n\t\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\t\tlabel='Password'\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tvalue={this.state.password}\r\n\t\t\t\t\t\t\tonChange={this.writeHandler}\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='inpWrapper'>\r\n\t\t\t\t\t\t<LoadingBtn type='submit' name='sign up' loading={this.state.loading} fullWidth={false} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</Form>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withSnackbar(SignUp);\r\n","import React, { Component } from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Form from '../../components/Form/Form';\r\nimport LoadingBtn from '../../components/Btn/LoadingBtn';\r\nimport { withSnackbar } from 'notistack';\r\nimport { signin } from '../../Apis/auth';\r\nimport { Link } from 'react-router-dom';\r\nexport class SignIn extends Component {\r\n\tstate = {\r\n\t\temail: '',\r\n\t\tpassword: '',\r\n\t\tloading: false\r\n\t};\r\n\r\n\tgotToProfile = () => {\r\n\t\tthis.props.history.push('/bugtracker/profile')\r\n\t}\r\n\tsubmitHandler = async (e, cb) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tthis.setState({ loading: true });\r\n\t\tconst { email, password } = this.state;\r\n\r\n\t\tconst body = { email, password };\r\n\r\n\t\ttry {\r\n\t\t\tconst response = await signin(body);\r\n\r\n\t\t\tthis.setState({ loading: false });\r\n\r\n\t\t\tthis.props.enqueueSnackbar(response.data.message, { variant: 'success' });\r\n\r\n\t\t\tlocalStorage.setItem('token', response.data.token);\r\n\r\n\t\t\tcb();\r\n\t\t} catch (error) {\r\n\t\t\tthis.setState({ loading: false });\r\n\t\t\tthis.props.enqueueSnackbar(error.response?.data?.error, { variant: 'error' });\r\n\t\t}\r\n\t};\r\n\r\n\twriteHandler = e => {\r\n\t\tthis.setState({ [e.target.name]: e.target.value });\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Form type='Sign In'>\r\n\t\t\t\t<form\r\n\t\t\t\t\tonSubmit={e => {\r\n\t\t\t\t\t\tthis.submitHandler(e, this.gotToProfile);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className='inpWrapper'>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\t\tid='outlined-basic'\r\n\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\tvalue={this.state.email}\r\n\t\t\t\t\t\t\tlabel='Email'\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={this.writeHandler}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='inpWrapper'>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\tid='outlined-basic'\r\n\t\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\t\tlabel='Password'\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tvalue={this.state.password}\r\n\t\t\t\t\t\t\tonChange={this.writeHandler}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<LoadingBtn loading={this.state.loading} type='submit' name='sign in' fullWidth={true} />\r\n\t\t\t\t</form>\r\n\r\n\t\t\t\t\t<div style={{textAlign: 'center', marginTop: '10px'}}>\r\n\r\n\t\t\t\t<Link to ='/forgetPassword'>Forgot Password?</Link>\r\n\t\t\t\t\t</div>\r\n\t\t\t</Form>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withSnackbar(SignIn);\r\n","import sendRequest from './sendRequest';\r\n\r\n// User\r\nexport function personalData() {\r\n\treturn sendRequest('GET', '/users/personalData');\r\n}\r\n\r\nexport function editPersonalData(body) {\r\n\treturn sendRequest('PATCH', '/users/editPersonalData', body);\r\n}\r\n\r\nexport function userNotifications() {\r\n\treturn sendRequest('GET', '/users/userNotifications');\r\n}\r\n\r\nexport function personalProjects() {\r\n\treturn sendRequest('GET', '/users/personalProjects');\r\n}\r\n\r\nexport function findUserWithPrivateKey(privateKey, teamId) {\r\n\treturn sendRequest('GET', `/users/getUserWithPrivateKey/${privateKey}?teamId=${teamId}`);\r\n}\r\n\r\nexport function regeneratePrivateKey() {\r\n\treturn sendRequest('PATCH', '/users/regeneratePrivateKey');\r\n}\r\n\r\nexport function userTeams(forTeamSelecting) {\r\n\treturn sendRequest('GET', `/users/userTeams?forTeamSelecting=${forTeamSelecting}`);\r\n}\r\n\r\nexport function seenNotifications() {\r\n\treturn sendRequest('PATCH', '/users/seenNotifications');\r\n}\r\n\r\nexport function clearNotifications() {\r\n\treturn sendRequest('PATCH', '/users/clearNotifications');\r\n}\r\n","import * as actionTypes from './actionTypes';\r\nimport { personalData } from '../Apis/user';\r\n\r\n\r\n// Error and Loading actions\r\nconst start = () => ({\r\n\ttype: actionTypes.start\r\n});\r\n\r\nconst errorOccured = message => ({\r\n\ttype: actionTypes.errorOccured,\r\n\tpayload: {\r\n\t\tmessage\r\n\t}\r\n});\r\n\r\n\r\n// USER actions\r\nconst storeUserData = user => ({\r\n\ttype: actionTypes.storeUserData,\r\n\tpayload: {\r\n\t\tuser\r\n\t}\r\n});\r\n\r\n\r\nexport const updateUserData  = updatedUser => ({\r\n\ttype: actionTypes.updateUserData,\r\n\tpayload: {\r\n\t\tupdatedUser\r\n\t}\r\n})\r\n\r\n\r\nexport const fetchUser = () => {\r\n\treturn async dispatch => {\r\n\t\tdispatch(start());\r\n\t\ttry {\r\n\t\t\tconst response = await personalData();\r\n\r\n\t\t\tdispatch(storeUserData(response?.data?.user));\r\n\t\t} catch (error) {\r\n\t\t\tdispatch(errorOccured(error.response?.data?.error));\r\n\t\t}\r\n\t};\r\n};\r\n\r\n// NEW KEY action\r\nexport const newKey = (updatedKey) => ({type: actionTypes.newKey, payload: {updatedKey}})\r\n\r\n// TEAM actions\r\nexport const saveCurrentTeamId = currentTeamId => ({\r\n\ttype: actionTypes.saveCurrentTeam,\r\n\tpayload: {\r\n\t\tcurrentTeamId\r\n\t}\r\n})\r\n\r\n\r\n// FORGET PASSWORD actions\r\n\r\nexport const storeForgetedPasswordEmail = email => ({\r\n\ttype: actionTypes.forgetPassword,\r\n\tpayload: {\r\n\t\temail\r\n\t}\r\n})\r\n\r\n","export const storeUserData = 'STORE_USER_DATA';\r\nexport const start = 'START';\r\nexport const errorOccured = 'ERROR_OCCURED';\r\nexport const updateUserData = 'UPDATE_USER_DATA';\r\nexport const newKey = 'NEW_KEY';\r\nexport const saveCurrentTeam = 'CURRENT_TEAM';\r\nexport const forgetPassword = 'FORGET_PASSWORD';\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\n/*\r\n modalOpen <bool> --> the modal is opened or not \r\n closeModal <func> --> to close the modal\r\n header <string> --> the modal header \t\r\n */\r\nconst useStyles = makeStyles(theme => ({\r\n\tmodal: {\r\n\t\tdisplay: 'flex',\r\n\t\tjustifyContent: 'center',\r\n\t\tpaddingTop: '5%',\r\n\t\tborder: 'none',\r\n\t\tcolor: 'inherit'\r\n\t},\r\n\tmodalPaper: {\r\n\t\tpadding: '20px',\r\n\t\twidth: '70%',\r\n\t\theight: 'auto',\r\n\t\tborder: 'none',\r\n\t\toutline: 'none',\r\n\t\tcolor: 'inherit',\r\n\t\toverflowY: 'scroll'\r\n\t}\r\n}));\r\n\r\nexport default function TransitionsModal(props) {\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Modal\r\n\t\t\t\taria-labelledby='transition-modal-title'\r\n\t\t\t\taria-describedby='transition-modal-description'\r\n\t\t\t\tclassName={classes.modal}\r\n\t\t\t\topen={props.modalOpen}\r\n\t\t\t\tonClose={props.closeModal}\r\n\t\t\t\tcloseAfterTransition\r\n\t\t\t\tBackdropComponent={Backdrop}\r\n\t\t\t\tBackdropProps={{\r\n\t\t\t\t\ttimeout: 500\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Fade in={props.modalOpen}>\r\n\t\t\t\t\t<Paper elevation={3} className={classes.modalPaper}>\r\n\t\t\t\t\t\t<h2 id='transition-modal-title' style={{ textAlign: 'center', color: '#03a9f4' }}>\r\n\t\t\t\t\t\t\t{props.header}\r\n\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t{props.children}\r\n\t\t\t\t\t</Paper>\r\n\t\t\t\t</Fade>\r\n\t\t\t</Modal>\r\n\t\t</div>\r\n\t);\r\n}\r\n","export const toDate = date => {\r\n\treturn new Date(date).toLocaleString();\r\n};\r\n","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport List from '@material-ui/core/List';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport NotificationsActiveIcon from '@material-ui/icons/NotificationsActive';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport GroupIcon from '@material-ui/icons/Group';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport DashboardIcon from '@material-ui/icons/Dashboard';\r\nimport Button from '@material-ui/core/Button';\r\nimport LoadingBtn from '../Btn/LoadingBtn';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport Modal from '../Modal/Modal';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport {NavLink, withRouter}from 'react-router-dom'\r\nimport { toDate } from '../../helpers';\r\nimport {socket} from '../../index'\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n\t\tdisplay: 'flex',\r\n\t\theight: '100%',\r\n\t\tposition: 'relative',\r\n    width: '100%',\r\n\r\n  },\r\n\tappBar: {\r\n\t\tbackgroundColor: '#11161a',\r\n\t\tcolor: '#03a9f4',\r\n\t\ttransition: theme.transitions.create([ 'margin', 'width' ], {\r\n\t\t\teasing: theme.transitions.easing.sharp,\r\n\t\t\tduration: theme.transitions.duration.leavingScreen\r\n\t\t})\r\n\t},\r\n\tappBarShift: {\r\n\t\twidth: `calc(100% - ${drawerWidth}px)`,\r\n\t\tmarginLeft: drawerWidth,\r\n\t\ttransition: theme.transitions.create([ 'margin', 'width' ], {\r\n\t\t\teasing: theme.transitions.easing.easeOut,\r\n\t\t\tduration: theme.transitions.duration.enteringScreen\r\n\t\t})\r\n\t},\r\n\tmenuButton: {\r\n\t\tmarginRight: theme.spacing(2)\r\n\t},\r\n\thide: {\r\n\t\tdisplay: 'none'\r\n\t},\r\n\tdrawer: {\r\n\t\twidth: drawerWidth,\r\n\t\tflexShrink: 0\r\n\t},\r\n\tdrawerPaper: {\r\n\t\tbackgroundColor: '#11161a',\r\n\t\tcolor: '#03a9f4',\r\n\r\n\t\twidth: drawerWidth\r\n\t},\r\n\tdrawerHeader: {\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center',\r\n\t\tpadding: theme.spacing(0, 1),\r\n\t\t// necessary for content to be below app bar\r\n\t\t...theme.mixins.toolbar,\r\n\t\tjustifyContent: 'flex-end'\r\n\t},\r\n  content: {\r\n    flexGrow: 1,\r\n    padding: theme.spacing(3),\r\n    transition: theme.transitions.create('margin', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n\t\tmarginLeft: -drawerWidth,\r\n\t\theight: '100%',\r\n\t\t[theme.breakpoints.down(\"sm\")]: {\r\n      width: `calc(100% - ${drawerWidth}px)`\r\n    }\r\n\r\n  },\r\n\tcontentShift: {\r\n    transition: theme.transitions.create('margin', {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n    marginLeft: 0,\r\n  },  navLink: {\r\n    color: 'inherit',\r\n    textDecoration: 'none',\r\n    display: 'inline-block',\r\n\t\twidth: '100%',\r\n\t\t// height: '100%'\r\n\r\n  },\r\n  navActive: {\r\n    backgroundColor: '#030405',\r\n    // color: '#101519'\r\n  }\r\n}));\r\n\r\nfunction PersistentDrawerLeft(props) {\r\n\r\n\tconst classes = useStyles();\r\n\tconst theme = useTheme();\r\n\tconst [ open, setOpen ] = React.useState(!(window.innerWidth < 700));\r\n  const [notificationOpen, setNotificationOpen] = React.useState(false);\r\n\r\n\tlet device = window.innerWidth < 700 ? 'mobile' : 'desktop';\r\n\r\n\t\r\n\twindow.addEventListener('resize', () => {\r\n\t\tdevice = window.innerWidth < 700 ? 'mobile' : 'desktop';\r\n\t})\r\n\r\n\r\n\tconst closeDrawerOnNavigation = () => {\r\n\t\tif (device === 'mobile') handleDrawerClose();\r\n\t}\r\n\r\n\tconst handleDrawerOpen = () => {\r\n\t\tsetOpen(true);\r\n\t};\r\n\r\n\tconst handleDrawerClose = () => {\r\n\t\tsetOpen(false);\r\n  };\r\n  \r\n  const handleNotificationOpen = async() => {\r\n    setNotificationOpen(true)\r\n\t\tawait props.seeNewNotifications();\r\n  }\r\n\r\n  const handleNotificationClose = () =>{\r\n    setNotificationOpen(false)\r\n  }\r\n\r\n\tconst goToAddProject = () => {\r\n\t\tprops.history.push('/bugtracker/newProject');\r\n\t}\r\n\r\n\tconst logOut = () => {\r\n\t\tif(window.confirm('Are you sure you want to logout?')) {\r\n\r\n\t\t\tlocalStorage.removeItem('token');\r\n\t\t\tprops.history.push('/');\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tlet unseen = 0;\r\n\t\r\n\tif(props.userNotifications?.length > 0) {\r\n\t\t\r\n\t\t\r\n\t\tprops.userNotifications.forEach(n => {\r\n\t\t\t\r\n\t\t\tif(n.seen === false) unseen+=1\r\n\t\t})\r\n\t\t\r\n\t}\r\n\t\r\n\t\t\r\n\t\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<CssBaseline />\r\n\t\t\t<AppBar\r\n\t\t\t\tposition='fixed'\r\n\t\t\t\tclassName={clsx(classes.appBar, {\r\n\t\t\t\t\t[classes.appBarShift]: open\r\n\t\t\t\t})}\r\n\t\t\t>\r\n\t\t\t\t{/* upper toolbar */}\r\n\t\t\t\t<Toolbar>\r\n\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\tcolor='inherit'\r\n\t\t\t\t\t\taria-label='open drawer'\r\n\t\t\t\t\t\tonClick={handleDrawerOpen}\r\n\t\t\t\t\t\tedge='start'\r\n\t\t\t\t\t\tclassName={clsx(classes.menuButton, open && classes.hide)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<MenuIcon />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t{/* NEW PROJECT */}\r\n          <Tooltip title = 'New Project'>\r\n\t\t\t\t\t<Button color='primary' size='small' variant='contained' onClick = {goToAddProject}>\r\n\t\t\t\t\t\t+\r\n\t\t\t\t\t</Button>\r\n\r\n          </Tooltip>\r\n\t\t\t\t\t{/* NOTIFIATIONS ICON*/}\r\n\t\t\t\t\t<div style={{ marginLeft: 'auto' }}>\r\n\t\t\t\t\t\t<Tooltip title = 'Notifications'>\r\n\r\n\t\t\t\t\t\t<IconButton color='primary' onClick = {handleNotificationOpen}>\r\n\t\t\t\t\t\t\t<Badge color='secondary' badgeContent={unseen} >\r\n\t\t\t\t\t\t\t\t<NotificationsActiveIcon color='primary' />\r\n\t\t\t\t\t\t\t</Badge>\r\n              \r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t<Tooltip title = 'Log out'>\r\n\r\n\t\t\t\t\t\t<IconButton color='primary' onClick = {logOut}>\r\n\t\t\t\t\t\t\t<ExitToAppIcon color='primary' />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Toolbar>\r\n\t\t\t</AppBar>\r\n\r\n\t\t\t{/* LEFT DRAWER */}\r\n\t\t\t<Drawer\r\n\t\t\t\tclassName={classes.drawer}\r\n\t\t\t\tvariant='persistent'\r\n\t\t\t\tanchor='left'\r\n\t\t\t\topen={open}\r\n\t\t\t\tclasses={{\r\n\t\t\t\t\tpaper: classes.drawerPaper\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<div className={classes.drawerHeader}>\r\n\t\t\t\t\t<IconButton onClick={handleDrawerClose}>\r\n\t\t\t\t\t\t{theme.direction === 'ltr' ? <ChevronLeftIcon /> : <ChevronRightIcon />}\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Divider />\r\n\t\t\t\t<List>\r\n\t\t\t\t\t{/* navigation items(sections) */}\r\n\t\t\t\t\t{[ 'Profile', 'Dashboard', 'Teams' ].map((text, index) => (\r\n            <NavLink key = {index} to = {`/bugtracker/${text.toLowerCase()}`} activeClassName = {classes.navActive} className = {classes.navLink} onClick = {closeDrawerOnNavigation}>\r\n\r\n\t\t\t\t\t\t<ListItem button key={text}>\r\n\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t{text === 'Profile' ? (\r\n\t\t\t\t\t\t\t\t\t<Avatar color='primary' alt='image' src = {props.userImg?.url} />\r\n\t\t\t\t\t\t\t\t) : text === 'Dashboard' ? (\r\n\t\t\t\t\t\t\t\t\t<DashboardIcon color='primary' />\r\n\t\t\t\t\t\t\t\t) : text === 'Teams' ? (\r\n\t\t\t\t\t\t\t\t\t<GroupIcon color='primary' />\r\n\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t<ListItemText primary={text} />\r\n\t\t\t\t\t\t</ListItem>\r\n            </NavLink>\r\n\r\n\t\t\t\t\t))}\r\n\t\t\t\t</List>\r\n\t\t\t</Drawer>\r\n\t\t\t{/* APPLICATION */}\r\n\t\t\t<main\r\n\t\t\t\tclassName={clsx(classes.content, {\r\n\t\t\t\t\t[classes.contentShift]: open\r\n\t\t\t\t})}\r\n\t\t\t>\r\n\t\t\t\t<div className={classes.drawerHeader} />\r\n\r\n\r\n\r\n        \r\n        \r\n        <Modal modalOpen = {notificationOpen} closeModal = {handleNotificationClose} header = 'Notifications'  >\r\n\r\n            \r\n          {props.userNotifications?.length === 0 ? <h2 style={{textAlign:'center'}}>You have no notifications.</h2> : <List>\r\n\t\t\t\t\t\t<LoadingBtn name = \"Clear\" loading = {props.loading} func = {props.clearNotifications}/>\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<br />\r\n          {props.userNotifications?.map((n, i) => {\r\n                return (\r\n\r\n                  <ListItem key = {i}>\r\n                  <ListItemAvatar>\r\n                    <Avatar src={n.from.image?.url}/>\r\n                  </ListItemAvatar>\r\n                  <ListItemText\r\n\t\t\t\t\t\t\t\t\t\tprimary={`${n.from.firstName} ${n.from.lastName} ${n.content}`}\r\n\t\t\t\t\t\t\t\t\t\tsecondary={`${toDate(n.date)}`}\r\n                    />\r\n                </ListItem>\r\n              )\r\n              })\r\n              }\r\n\r\n            </List>\r\n            }\r\n\r\n        </Modal>\r\n\r\n\r\n\r\n        {/* APP */}\r\n\r\n\r\n\t\t\t<div style={{height: '100%'}}>\r\n\r\n\t\t\t\t{props.children}\r\n\r\n\t\t\t</div>\r\n\r\n\t\t\t</main>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default withRouter(PersistentDrawerLeft);","import React, { Component } from 'react';\r\nimport Navbar from '../Navbar/Navbar';\r\nimport { connect } from 'react-redux';\r\nimport {userNotifications, seenNotifications, clearNotifications} from '../../Apis/user'\r\nimport {socket} from '../../index';\r\nimport {withSnackbar} from 'notistack';\r\n\r\nclass Layout extends Component {\r\n\r\n  state = {\r\n    userNotifications: null,\r\n    loading: false\r\n  }\r\n\r\n\r\n\r\n  async componentDidMount() {\r\n\r\n    await this.getUserNotifications();\r\n\r\n    \r\n    socket.on('newMembersForTeam', async data => {\r\n\r\n      \r\n      const {usersToAdd} = data;\r\n \r\n      console.log(\"Layout -> componentDidMount -> usersToAdd\", usersToAdd, this.props.userId)\r\n    \r\n      const userIds = usersToAdd.map(user => user._id.toString());\r\n\r\n      if(userIds.includes(this.props.userId)) {\r\n    \r\n        await this.getUserNotifications()\r\n    \r\n      }\r\n\r\n    })\r\n\r\n\r\n    socket.on('userHasKicked', async data => {\r\n      const {kickedUser} = data;\r\n      \r\n      console.log(\"Layout -> componentDidMount -> kickedUser\", kickedUser, this.props.userId)\r\n\r\n      if(this.props.userId === kickedUser) await this.getUserNotifications()\r\n    })\r\n\r\n\r\n  }\r\n\r\n\r\n  getUserNotifications = async  () => {\r\n    try {\r\n      const response = await userNotifications()\r\n      this.setState({userNotifications: response.data.notifications})\r\n      \r\n    } catch (error) {\r\n      console.error(error)\r\n    }\r\n\r\n  }\r\n  seeNewNotifications = async () => {\r\n\r\n    try {\r\n\r\n      const {userNotifications} = this.state;\r\n      \r\n      let newNotifications = false;\r\n      \r\n\r\n      for(let n of userNotifications) {\r\n        if(n.seen === false) newNotifications = true\r\n        break;\r\n      }\r\n\r\n      \r\n      if(newNotifications) {\r\n\r\n        // do the quick optimistic one for user first, then go and update the db \r\n        this.quickSeeNewNotifications();\r\n        \r\n        \r\n        await seenNotifications();\r\n      }\r\n      \r\n    } catch (error) {\r\n      console.error(error)\r\n    }\r\n  }\r\n  \r\n  quickSeeNewNotifications = () => {\r\n    // UPDATING NESTED ARRAY OBJECTS IMMUTABILLY -_-\r\n    const updatedNotifications = [...this.state.userNotifications];\r\n\r\n    updatedNotifications.forEach((n, i) => {\r\n      \r\n      const updatedNotification = {...n};\r\n      \r\n      updatedNotification.seen = true;\r\n\r\n      updatedNotifications[i] = updatedNotification;\r\n\r\n      this.setState({userNotifications: updatedNotifications});\r\n\r\n    })\r\n\r\n  }\r\n\r\n  clearNotifications = async () => {\r\n\r\n    this.setState({loading:true});\r\n    \r\n    try {\r\n      const response = await clearNotifications();\r\n      this.setState({userNotifications: []});\r\n      this.props.enqueueSnackbar(response.data.message || 'Something went wrong', {variant: 'success'})\r\n    } catch (error) {\r\n\r\n      this.props.enqueueSnackbar(error.response.data.error || 'Something went wrong', {variant: 'error'})\r\n\r\n    }\r\n\r\n    this.setState({loading:false});\r\n\r\n  }\r\n\r\n\trender() {\r\n    if(!this.userId) this.userId = this.props.userId;\r\n    console.log('LAYOUT')\r\n    return (\r\n\t\t\t<div>\r\n\t\t\t\t<Navbar userImg={this.props.userImg} userNotifications = {this.state.userNotifications} seeNewNotifications = {this.seeNewNotifications} clearNotifications = {this.clearNotifications} loading = {this.state.loading}>\r\n          {/* This will be the entire Application */}\r\n\t\t\t\t\t{this.props.children}\r\n\t\t\t\t</Navbar>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\treturn { userImg: state.currentUser?.image, userId: state.currentUser?._id };\r\n};\r\nexport default connect(mapStateToProps)(withSnackbar(Layout));\r\n","import React, { PureComponent } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport { PhotoCamera } from '@material-ui/icons';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Button from '@material-ui/core/Button'\r\nimport LoadingBtn from '../../components/Btn/LoadingBtn'\r\nimport './Profile.scss';\r\nimport {editPersonalData} from '../../Apis/user'\r\nimport {updateUserData, newKey}from '../../store/actions'\r\nimport {withSnackbar} from 'notistack'\r\nimport {regeneratePrivateKey} from '../../Apis/user'\r\nimport NProgress from 'nprogress'\r\n\r\nexport class Profile extends PureComponent {\r\n  \r\n  state = {\r\n    loading: false,\r\n  }\r\n  \r\n\r\n  wirteHandler = e => {\r\n    this.setState({[e.target.name] : e.target.value})\r\n  }\r\n\r\n  \r\n\r\n\r\n\r\n\r\n  newImageHandler = async e => {\r\n  \r\n    e.preventDefault();\r\n    \r\n    NProgress.start()\r\n    \r\n\r\n    const imageObj = e.target.files[0]\r\n\r\n    console.log(\"EditProfile -> imageObj\", imageObj)\r\n\r\n\r\n\r\n    const {firstName, lastName, image} = this.props.user;\r\n\r\n    const oldImagePublicKey = image?.publicId;\r\n\r\n\r\n    const fd = new FormData()\r\n\r\n    fd.set(\"firstName\", firstName)\r\n    fd.set(\"lastName\", lastName)\r\n    fd.set(\"oldImagePublicKey\", oldImagePublicKey);\r\n    fd.append('image',imageObj, imageObj.name);\r\n\r\n\r\n    try {\r\n      const response = await editPersonalData(fd);\r\n\r\n      this.props.updateUser(response.data.user);\r\n\r\n      NProgress.done()\r\n\r\n\t\t\tthis.props.enqueueSnackbar('Image Uploaded Successfully', { variant: 'success' });\r\n      \r\n\r\n    } catch (error) {\r\n\t\t\tthis.props.enqueueSnackbar(error.response.data.message, { variant: 'error' });\r\n      NProgress.done()\r\n    }\r\n  }\r\n\r\n\r\n\r\n  newKey = async () => {\r\n    this.setState({loading: true})\r\n    \r\n    try {\r\n\r\n      const response = await regeneratePrivateKey();\r\n      \r\n      this.props.newKey(response.data.newPrivateKey)\r\n\r\n\r\n      this.props.enqueueSnackbar(response.data.message, { variant: 'success' });\r\n\r\n\r\n      this.setState({loading: false})\r\n\r\n    } catch (error) {\r\n      this.setState({loading: false})\r\n\r\n      this.props.enqueueSnackbar(error.response.data.error, { variant: 'error' });\r\n\r\n    }\r\n    \r\n  }\r\n\r\n\r\n\r\n\trender() {\r\n    const { user } = this.props;\r\n    const {loading} = this.state;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col-md-4\">\r\n          <div id='profilePicWrapper'>\r\n\t\t\t\t\t\t\t{/* EDIT ICON */}\r\n\t\t\t\t\t\t\t<div className='editProfilePic'>\r\n\t\t\t\t\t\t\t\t<input accept='image/*' style={{ display: 'none' }} id='icon-button-file' type='file' onChange={this.newImageHandler} />\r\n\t\t\t\t\t\t\t\t<label htmlFor='icon-button-file'>\r\n\t\t\t\t\t\t\t\t\t<IconButton color='primary' aria-label='upload picture' component='span'>\r\n\t\t\t\t\t\t\t\t\t\t<PhotoCamera />\r\n\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{/* IMG */}\r\n\t\t\t\t\t\t\t<Avatar src={user?.image?.url} alt=\"Profile-Pic\" id='profilePic'/>\r\n\t\t\t\t\t\t</div>\r\n            {user && \r\n            <div className=\"\">\r\n                <h2 className='capitalize'>{user.firstName + ' ' + user.lastName}</h2>\r\n                <p className='secondar'>{user?.email}</p>\r\n                <div style={{width: '300px'}}>\r\n                  <hr/>\r\n                </div>\r\n\r\n                <Button color = 'primary' variant = 'contained' onClick={() => this.props.history.push('/bugtracker/profile/edit')}>Edit</Button>\r\n            </div>\r\n            }\r\n          </div>\r\n          <div className=\"col-md-8\">\r\n          <h2>Private Key: <span className='secondary'> {user?.privateKey} </span></h2>\r\n            <LoadingBtn loading = {loading} name ='New Key' func ={this.newKey}/>\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n\t\t);\r\n\t}}\r\n\r\n\r\nconst mapStateToProps = state => ({ user: state.currentUser });\r\n\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  updateUser: (updatedUser) => dispatch(updateUserData(updatedUser)),\r\n  newKey: (updatedKey) => dispatch(newKey(updatedKey))\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withSnackbar(Profile));\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { editPersonalData } from '../../Apis/user';\r\nimport { updateUserData } from '../../store/actions';\r\nimport { withSnackbar } from 'notistack';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport LoadingBtn from '../../components/Btn/LoadingBtn';\r\nimport Form from '../../components/Form/Form';\r\nexport class EditProfile extends Component {\r\n\tstate = {\r\n\t\tloading: false,\r\n\t\tfirstName: this.props.user?.firstName,\r\n    lastName: this.props.user?.lastName,\r\n\t};\r\n\r\n\twriteHandler = e => {\r\n\t\tthis.setState({ [e.target.name]: e.target.value });\r\n\t};\r\n\r\n\tgoToProfile = () => {\r\n\t\tthis.props.history.push('/bugtracker/profile');\r\n\t};\r\n\r\n\r\n\r\n\r\n\tsubmitHandler = async e => {\r\n\t\te.preventDefault();\r\n\t\tthis.setState({ loading: true });\r\n\r\n\t\ttry {\r\n\t\t\tconst body = { firstName: this.state.firstName, lastName: this.state.lastName };\r\n\r\n\t\t\tconst response = await editPersonalData(body);\r\n\r\n\t\t\tthis.setState({ loading: false });\r\n\r\n\t\t\tthis.props.editUser(response.data.user);\r\n\r\n\t\t\tthis.props.enqueueSnackbar(response.data.message, { variant: 'success' });\r\n\r\n\t\t\tthis.goToProfile();\r\n\t\t} catch (error) {\r\n\t\t\tthis.props.enqueueSnackbar(error.response.data.error, { variant: 'error' });\r\n\t\t\tthis.setState({ loading: false });\r\n\t\t}\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n    // if the user refreshed the page, the redux store will be lost, and hence, there will no be data to put in the state.. then we need to redirect to another component to wait till the async req that get the data finish\r\n\t\tif (!this.state.firstName && !this.state.lastName) this.goToProfile();\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { firstName, lastName, loading } = this.state;\r\n\r\n\t\treturn (\r\n\t\t\t<Form>\r\n        <form onSubmit={this.submitHandler}>\r\n\r\n\r\n\t\t\t\t<div style={{ color: 'white' }}>\r\n\t\t\t\t\t<div style={{ margin: '20px 0' }}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tid='outlined-basic'\r\n\t\t\t\t\t\t\tlabel='fistName'\r\n\t\t\t\t\t\t\tname='firstName'\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tonChange={this.writeHandler}\r\n\t\t\t\t\t\t\tvalue={firstName}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div style={{ margin: '20px 0' }}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tid='outlined-basic'\r\n\t\t\t\t\t\t\tlabel='lastName'\r\n\t\t\t\t\t\t\tname='lastName'\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tonChange={this.writeHandler}\r\n\t\t\t\t\t\t\tvalue={lastName}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<LoadingBtn name='Edit' fullWidth={true} loading={loading} type = 'submit'/>\r\n\t\t\t\t</div>\r\n        </form>\r\n\t\t\t</Form>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => ({ user: state.currentUser });\r\n\r\nconst mapDispatchesToProps = dispatch => ({ editUser: updatedUser => dispatch(updateUserData(updatedUser)) });\r\n\r\nexport default connect(mapStateToProps, mapDispatchesToProps)(withSnackbar(EditProfile));\r\n","import React from 'react';\r\nimport './Box.scss';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { toDate } from '../../helpers';\r\nimport { DeleteForever, LockOutlined, Visibility } from '@material-ui/icons';\r\nimport { IconButton } from '@material-ui/core';\r\nimport { LockOpenOutlined } from '@material-ui/icons';\r\nimport { withRouter } from 'react-router-dom';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport { connect } from 'react-redux';\r\nfunction ProjectBox(props) {\r\n\tconst { project, userId } = props;\r\n\r\n\tlet bugText = project.bugs.length === 1 ? 'Bug' : 'Bugs';\r\n\r\n\tconst goToDetails = () => {\r\n\t\tprops.history.push(`/bugtracker/project/${project._id}`);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='col-sm-6 col-md-3' style={{ marginBottom: '20px' }}>\r\n\t\t\t<Paper elevation={3} className='Box'>\r\n\t\t\t\t<h2 className='capitalize'>{project.name}</h2>\r\n\t\t\t\t<h4>\r\n\t\t\t\t\t{' '}\r\n\t\t\t\t\t<span> {project.bugs.length} </span> {bugText}\r\n\t\t\t\t</h4>\r\n\t\t\t\t<p className='secondary' style={{ fontStyle: 'italic' }}>\r\n\t\t\t\t\tCreated at {toDate(project.createdAt)}\r\n\t\t\t\t</p>\r\n\t\t\t\t<div className='controllers'>\r\n\t\t\t\t\t<Tooltip title='View Project' onClick={goToDetails}>\r\n\t\t\t\t\t\t<IconButton>\r\n\t\t\t\t\t\t\t<Visibility color='primary' />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t{userId === project.owner && (\r\n\t\t\t\t\t\t<Tooltip title='Delete Project'>\r\n\t\t\t\t\t\t\t<IconButton onClick={props.removeProject}>\r\n\t\t\t\t\t\t\t\t<DeleteForever color='secondary' />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='status'>\r\n\t\t\t\t\t{project.status === 1 ? (\r\n\t\t\t\t\t\t<Tooltip title='Status: Closed'>\r\n\t\t\t\t\t\t\t<LockOutlined style={{ color: '#5cb85c' }} />\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Tooltip title='Status: Opened'>\r\n\t\t\t\t\t\t\t<LockOpenOutlined color='secondary' />\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</Paper>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nconst mapStateToProps = state => ({ userId: state.currentUser && state.currentUser._id });\r\n\r\nexport default connect(mapStateToProps)(withRouter(ProjectBox));\r\n","import sendRequest from './sendRequest';\r\n// Project\r\n\r\nexport function projectDetails(projectId) {\r\n\treturn sendRequest('GET', `/users/projectDetails/${projectId}`);\r\n}\r\n\r\nexport function newProject(body) {\r\n\treturn sendRequest('POST', '/users/newProject', body);\r\n}\r\n\r\nexport function editProject(body) {\r\n\treturn sendRequest('PATCH', '/users/editProject', body);\r\n}\r\n\r\nexport function projectTimeline(projectId, page) {\r\n\treturn sendRequest('GET', `/users/projectTimeline/${projectId}?page=${page}`);\r\n}\r\n\r\nexport function closeOrReOpenProject(body) {\r\n\treturn sendRequest('PATCH', '/users/closeOrReOpenProject', body);\r\n}\r\n\r\nexport function deleteProject(projectId, teamId) {\r\n\treturn sendRequest('DELETE', `/users/deleteProject?projectId=${projectId}&teamId=${teamId}`);\r\n}\r\n","import React, { Component, Fragment } from 'react';\r\nimport Nprogress from 'nprogress';\r\nimport { personalProjects } from '../../Apis/user';\r\nimport ProjectBox from '../../components/Boxes/ProjectBox';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport { deleteProject } from '../../Apis/project';\r\nimport { withSnackbar } from 'notistack';\r\nexport class PersonalProjects extends Component {\r\n\tstate = {\r\n\t\tprojects: null\r\n\t};\r\n\r\n\tasync componentDidMount() {\r\n\t\tNprogress.start();\r\n\t\ttry {\r\n\t\t\tawait this.getPersonalProjects();\r\n\t\t\tNprogress.done();\r\n\t\t} catch (error) {\r\n\t\t\tNprogress.done();\r\n\t\t}\r\n\t}\r\n\r\n\tgetPersonalProjects = async () => {\r\n\t\tconst response = await personalProjects();\r\n\t\tthis.setState({ projects: response.data.projects });\r\n\t};\r\n\r\n\tremoveProject = async projectId => {\r\n\t\tif (window.confirm('Do you want to remove this project ?')) {\r\n\t\t\tNprogress.start();\r\n\r\n\t\t\ttry {\r\n\t\t\t\tconst response = await deleteProject(projectId, null);\r\n\r\n\t\t\t\tawait this.getPersonalProjects();\r\n\r\n\t\t\t\tthis.props.enqueueSnackbar(response.data.message, { variant: 'success' });\r\n\t\t\t\tNprogress.done();\r\n\t\t\t} catch (error) {\r\n\t\t\t\tNprogress.done();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\trender() {\r\n\t\tconst { projects } = this.state;\r\n\r\n\t\tlet personalProjects;\r\n\r\n\t\tif (projects) {\r\n\t\t\tif (projects.length > 0) {\r\n\t\t\t\tpersonalProjects = (\r\n\t\t\t\t\t<div className='row'>\r\n\t\t\t\t\t\t{projects.map(project => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<ProjectBox\r\n\t\t\t\t\t\t\t\t\tkey={project._id}\r\n\t\t\t\t\t\t\t\t\tproject={project}\r\n\t\t\t\t\t\t\t\t\tremoveProject={() => this.removeProject(project._id)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tpersonalProjects = (\r\n\t\t\t\t\t<Alert severity='info'>You have no projects! start adding some from the navbar at the top.</Alert>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t<div style={{ fontSize: '1.6rem', fontWeight: 'bold' }}>Your Personal Projects.</div>\r\n\t\t\t\t<hr />\r\n\t\t\t\t<div>{personalProjects}</div>\r\n\t\t\t</Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withSnackbar(PersonalProjects);\r\n","import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { toDate } from '../../helpers';\r\nimport { connect } from 'react-redux';\r\nimport Pagination from '@material-ui/lab/Pagination';\r\n// import\r\nfunction ProjectTimeline(props) {\r\n\tconst { timeline, paginationItemsCount } = props;\r\n\r\n\tlet projectTimeline = <h2 className='secondary text-center'>Timeline is Empty.</h2>;\r\n\r\n\t// if the array has some data, sort them and map them to HTML markup or jsx.\r\n\tif (timeline.length > 0) {\r\n\t\tprojectTimeline = timeline.map((tl, i) => {\r\n\t\t\tlet from = `${tl.from.firstName} ${tl.from.lastName}`;\r\n\r\n\t\t\tif (tl.from._id === props.currentUserId) from = 'you';\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<ListItem key={i}>\r\n\t\t\t\t\t<ListItemAvatar>\r\n\t\t\t\t\t\t<Avatar src={tl.from.image?.url} />\r\n\t\t\t\t\t</ListItemAvatar>\r\n\t\t\t\t\t<ListItemText primary={`${from} ${tl.content} (${tl.bug.name})`} secondary={`${toDate(tl.date)}`} />\r\n\t\t\t\t</ListItem>\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div style={{ wordBreak: 'break-word' }}>\r\n\t\t\t<Paper elevation={3}>\r\n\t\t\t\t<Typography variant='h6' className='text-center'>\r\n\t\t\t\t\tTimeline\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<div id='TimelineContainer'>\r\n\t\t\t\t\t<List>{projectTimeline}</List>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName='paginator'\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tbackgroundColor: '#11161A',\r\n\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\tjustifyContent: 'center',\r\n\t\t\t\t\t\tpadding: '0.2rem'\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{timeline.length > 0 && (\r\n\t\t\t\t\t\t<Pagination\r\n\t\t\t\t\t\t\tcount={paginationItemsCount}\r\n\t\t\t\t\t\t\tdisabled={paginationItemsCount < 2}\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\tonChange={(e, newPage) => props.getProjectTimeLine(true, newPage)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</Paper>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nconst mapStateToProps = state => ({ currentUserId: state.currentUser._id });\r\n\r\nexport default connect(mapStateToProps)(ProjectTimeline);\r\n","import React from 'react';\r\nimport { Doughnut } from 'react-chartjs-2';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nfunction Statistics(props) {\r\n\tlet { statistics, Statfor } = props;\r\n\tconst labels = [];\r\n\tconst data = [];\r\n\tlet backgroundColor = [ '#03a9f4', '#5cb85c', '#d9534f' ];\r\n\r\n\tif (Statfor === 'team') {\r\n\t\tstatistics = { ...statistics.projects, ...statistics.bugs };\r\n\t\tbackgroundColor = backgroundColor.concat([ '#7ed6fc', '#6fe86f', '#f77f7b' ]);\r\n\t}\r\n\r\n\tconsole.log('Statistics -> backgroundColor', backgroundColor);\r\n\tfor (const key in statistics) {\r\n\t\tlabels.push(key);\r\n\t\tdata.push(statistics[key]);\r\n\t}\r\n\r\n\tconsole.log('Statistics -> data', data);\r\n\tconst chartData = {\r\n\t\tlabels: labels,\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\t\tdata,\r\n\t\t\t\tbackgroundColor\r\n\t\t\t}\r\n\t\t]\r\n\t};\r\n\treturn (\r\n\t\t<Paper elevation={3} style={{ width: '100%', textAlign: 'center' }}>\r\n\t\t\t<Typography variant='h6' className='text-center'>\r\n\t\t\t\tStatistics\r\n\t\t\t</Typography>\r\n\r\n\t\t\t<div className=''>\r\n\t\t\t\t<Doughnut\r\n\t\t\t\t\tid='Dchart'\r\n\t\t\t\t\tdisplayTitle={true}\r\n\t\t\t\t\tdata={chartData}\r\n\t\t\t\t\theight='300px'\r\n\t\t\t\t\toptions={{ maintainAspectRatio: false, title: 'Project Bugs' }}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</Paper>\r\n\t);\r\n}\r\n\r\nexport default Statistics;\r\n","import React from 'react';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { toDate } from '../../helpers';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport { Add, Visibility, Edit } from '@material-ui/icons';\r\nimport { connect } from 'react-redux';\r\nconst useStyles = makeStyles({\r\n\ttable: {\r\n\t\tminWidth: 650\r\n\t}\r\n});\r\n\r\nfunction Bugs(props) {\r\n\tconst classes = useStyles();\r\n\r\n\tconst { bugs } = props;\r\n\r\n\tconst sortedBugs = bugs.slice().sort((a, b) => a.status - b.status);\r\n\r\n\treturn (\r\n\t\t<Paper elevation={3} style={{ padding: '10px' }}>\r\n\t\t\t<div\r\n\t\t\t\tclassName='TableControllers'\r\n\t\t\t\tstyle={{ display: 'flex', justifyContent: 'space-between', marginBottom: '10px' }}\r\n\t\t\t>\r\n\t\t\t\t<Typography variant='h5' style={{ textAlign: 'center', fontWeight: 'bold' }}>\r\n\t\t\t\t\tProject Bugs\r\n\t\t\t\t</Typography>\r\n\t\t\t\t{/* AddBug */}\r\n\t\t\t\t<IconButton\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tprops.openModal('addBug');\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Add color='primary' />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</div>\r\n\t\t\t<TableContainer component={Paper} style={{ width: '100%' }}>\r\n\t\t\t\t<Table className={classes.table} aria-label='simple table'>\r\n\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t<TableCell align='center' style={{ fontSize: '1.1rem', fontWeight: 'bold' }}>\r\n\t\t\t\t\t\t\t\tName\r\n\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t<TableCell align='center' style={{ fontSize: '1.1rem', fontWeight: 'bold' }}>\r\n\t\t\t\t\t\t\t\tStatus\r\n\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t<TableCell align='center' style={{ fontSize: '1.1rem', fontWeight: 'bold' }}>\r\n\t\t\t\t\t\t\t\tCreatedAt\r\n\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t<TableCell align='center' style={{ fontSize: '1.1rem', fontWeight: 'bold' }}>\r\n\t\t\t\t\t\t\t\tActions\r\n\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t{sortedBugs.map((bug, i) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<TableRow key={i}>\r\n\t\t\t\t\t\t\t\t\t<TableCell align='center' component='th' scope='row' style={{ fontSize: '17.5px' }}>\r\n\t\t\t\t\t\t\t\t\t\t{bug.name}\r\n\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\talign='center'\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ color: bug.status === 1 ? '#5cb85c' : '#d9534f', fontWeight: 'bold' }}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{bug.status === 1 ? 'Fixed' : 'Buggy'}\r\n\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t<TableCell align='center'>{toDate(bug.createdAt)}</TableCell>\r\n\t\t\t\t\t\t\t\t\t<TableCell align='center'>\r\n\t\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tprops.openBug(bug._id, 'bugDetails');\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Visibility color='primary' />\r\n\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t\t{props.userId === bug.creator._id && (\r\n\t\t\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tprops.openBug(bug._id, 'editBug');\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Edit color='primary' />\r\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</TableBody>\r\n\t\t\t\t</Table>\r\n\t\t\t</TableContainer>\r\n\t\t</Paper>\r\n\t);\r\n}\r\n\r\nconst mapStateToProps = state => ({ userId: state.currentUser._id });\r\n\r\nexport default connect(mapStateToProps)(Bugs);\r\n","// this component will be wrapped in a modal in the projectDetails container\r\nimport { Avatar, Tooltip } from '@material-ui/core';\r\nimport React, { Fragment } from 'react';\r\nimport { toDate } from '../../helpers';\r\nimport LoadingBtn from '../Btn/LoadingBtn';\r\nfunction BugDetails(props) {\r\n\tconst { projectType, selectedBug, loading } = props;\r\n\tconsole.log('BugDetails -> selectedBug', selectedBug);\r\n\r\n\tconst selectedBugStatus = selectedBug.status === 1 ? 'Fixed' : 'Buggy';\r\n\tconst selectedBugStatusColor = selectedBug.status === 1 ? '#5cb85c' : '#d9534f';\r\n\r\n\treturn (\r\n\t\t<div style={{ textAlign: 'center' }}>\r\n\t\t\t<p style={{ color: selectedBugStatusColor }}>({selectedBugStatus})</p>\r\n\r\n\t\t\t{/* show only if the project type is public */}\r\n\t\t\t{projectType === 'public' && (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<p className='italic secondary'>\r\n\t\t\t\t\t\tReported By{' '}\r\n\t\t\t\t\t\t{`${selectedBug.creator.firstName}  ${selectedBug.creator.lastName} at ${toDate(\r\n\t\t\t\t\t\t\tselectedBug.createdAt\r\n\t\t\t\t\t\t)}`}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</Fragment>\r\n\t\t\t)}\r\n\r\n\t\t\t{projectType === 'public' &&\r\n\t\t\tselectedBug?.fixer && (\r\n\t\t\t\t<Tooltip title = {<Avatar src = {selectedBug.fixer?.image?.url}></Avatar>}>\r\n\r\n\t\t\t\t<p style={{ color: 'lightgreen' }}>\r\n\t\t\t\t\tBug is fixed by{' '}\r\n\t\t\t\t\t<span style={{ textTransform: 'capitalize' }}>\r\n\t\t\t\t\t\t{selectedBug.fixer.firstName + ' ' + selectedBug.fixer.lastName}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</p>\r\n\t\t\t\t</Tooltip>\r\n\t\t\t)}\r\n\t\t\t<div style={{ color: 'white', backgroundColor: '#11161A', marginBottom: '20px', padding: '10px' }}>\r\n\t\t\t\t{selectedBug.description}\r\n\t\t\t</div>\r\n\r\n\t\t\t<LoadingBtn\r\n\t\t\t\tloading={loading}\r\n\t\t\t\tname={selectedBug.status === 1 ? 'Re open' : 'Fix'}\r\n\t\t\t\tfunc={props.updateBugStatus}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default BugDetails;\r\n","import React, { Component } from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport TextareaAutosize from '@material-ui/core/TextareaAutosize';\r\nimport LoadingBtn from '../Btn/LoadingBtn';\r\n\r\nclass AddBug extends Component {\r\n\tstate = {\r\n\t\tname: '',\r\n\t\tdescription: ''\r\n\t};\r\n\r\n\twriteHandler = e => {\r\n\t\tthis.setState({ [e.target.name]: e.target.value });\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { loading } = this.props;\r\n\r\n\t\tconst { name, description } = this.state;\r\n\r\n\t\treturn (\r\n\t\t\t<form onSubmit={e => this.props.addBug(e, { name, description })}>\r\n\t\t\t\t<div style={{ marginBottom: '20px' }}>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tid='outlined-basic'\r\n\t\t\t\t\t\tlabel='Name'\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\tonChange={this.writeHandler}\r\n\t\t\t\t\t\tname='name'\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div style={{ marginBottom: '20px' }}>\r\n\t\t\t\t\t<TextareaAutosize\r\n\t\t\t\t\t\taria-label='minimum height'\r\n\t\t\t\t\t\trowsMin={15}\r\n\t\t\t\t\t\tplaceholder='Description'\r\n\t\t\t\t\t\tvalue={description}\r\n\t\t\t\t\t\tonChange={this.writeHandler}\r\n\t\t\t\t\t\tname='description'\r\n\t\t\t\t\t\tstyle={{ width: '100%', padding: '10px' }}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<LoadingBtn name='Add Bug' type='submit' loading={loading} fullWidth={true} />\r\n\t\t\t</form>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default AddBug;\r\n","import React, { Component } from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport TextareaAutosize from '@material-ui/core/TextareaAutosize';\r\nimport LoadingBtn from '../Btn/LoadingBtn';\r\n\r\nclass AddBug extends Component {\r\n\tstate = {\r\n\t\tnewName: this.props.selectedBug.name,\r\n\t\tnewDescription: this.props.selectedBug.description\r\n\t};\r\n\r\n\twriteHandler = e => {\r\n\t\tthis.setState({ [e.target.name]: e.target.value });\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { loading } = this.props;\r\n\r\n\t\tconst { newName, newDescription } = this.state;\r\n\r\n\t\treturn (\r\n\t\t\t<form onSubmit={e => this.props.editBugDetails(e, { newName, newDescription })}>\r\n\t\t\t\t<div style={{ marginBottom: '20px' }}>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tid='outlined-basic'\r\n\t\t\t\t\t\tlabel='Name'\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\tvalue={newName}\r\n\t\t\t\t\t\tonChange={this.writeHandler}\r\n\t\t\t\t\t\tname='newName'\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div style={{ marginBottom: '20px' }}>\r\n\t\t\t\t\t<TextareaAutosize\r\n\t\t\t\t\t\taria-label='minimum height'\r\n\t\t\t\t\t\trowsMin={15}\r\n\t\t\t\t\t\tplaceholder='Description'\r\n\t\t\t\t\t\tvalue={newDescription}\r\n\t\t\t\t\t\tonChange={this.writeHandler}\r\n\t\t\t\t\t\tname='newDescription'\r\n\t\t\t\t\t\tstyle={{ width: '100%', padding: '10px' }}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<LoadingBtn name='Edit Bug' type='submit' loading={loading} fullWidth={true} />\r\n\t\t\t</form>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default AddBug;\r\n","import sendRequest from './sendRequest';\r\n\r\n// Bug\r\nexport function bugDetails(bugId) {\r\n\treturn sendRequest('GET', `/users/bugDetails/${bugId}`);\r\n}\r\n\r\nexport function newBug(body) {\r\n\treturn sendRequest('POST', '/users/addBug', body);\r\n}\r\n\r\nexport function editBug(body) {\r\n\treturn sendRequest('PATCH', '/users/editBug', body);\r\n}\r\n\r\nexport function fixBug(body) {\r\n\treturn sendRequest('PATCH', '/users/fixBug', body);\r\n}\r\n\r\nexport function reOpenBug(body) {\r\n\treturn sendRequest('PATCH', '/users/bugReopen', body);\r\n}\r\n","import React, { Component, Fragment } from 'react'\r\nimport Nprogress from 'nprogress';\r\nimport {projectDetails, projectTimeline} from '../../Apis/project'\r\nimport ProjectTimeline from '../../components/ProjectTimeline/ProjectTimeline'\r\nimport Statistics from '../../components/Statistics/Statistics'\r\nimport './ProjectDetails.scss'\r\nimport Bugs from '../../components/Bugs/Bugs';\r\nimport Modal from '../../components/Modal/Modal';\r\nimport BugDetails from '../../components/Bugs/BugDetails';\r\nimport AddBug from '../../components/Bugs/AddBug';\r\nimport EditBug from '../../components/Bugs/EditBug';\r\nimport {withSnackbar} from 'notistack'\r\nimport {fixBug, reOpenBug, newBug, editBug} from '../../Apis/bug'\r\nimport {closeOrReOpenProject} from '../../Apis/project'\r\nimport { Avatar, Paper } from '@material-ui/core';\r\nimport ToolTip from '@material-ui/core/Tooltip';\r\nimport LoadingBtn from '../../components/Btn/LoadingBtn';\r\nimport {connect} from 'react-redux'\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport { socket } from '../..';\r\nexport class ProjectDetails extends Component {\r\n  \r\n  \r\n  projectId = this.props.match.params.projectId;\r\n  currentTeamId = this.props.currentTeamId\r\n  userId = this.props.userId\r\n\r\n  state = {\r\n    project: null,\r\n    projectStatistics: null,\r\n    projectTimeline: null,\r\n    paginationItemsCount: 0,\r\n    modalOpen: false,\r\n    selectedBug: null,\r\n    loading: false,\r\n    modalType: '',\r\n  // 0 is opened, 0 is opened\r\n  }\r\n\r\n  projectId = this.props.match.params.projectId\r\n\r\n  socketEvents = ['newPublicBug', 'publicBugFixed', 'publicBugReopened', 'projectClosingOrReopening', 'teamIsDeleted']\r\n\r\n\r\n\r\n\r\n\r\n  async componentDidMount() {\r\n\r\n\r\n    Nprogress.start();\r\n    try {\r\n      await this.getProjectDetails();\r\n      Nprogress.done()\r\n    } catch (error) {\r\n      Nprogress.done()\r\n      alert(error.response?.data?.error || 'Something Went Wrong, please try again later')\r\n    }\r\n\r\n\r\n    // socket events will get emitted from the server if the project.type === 'public' only\r\n  \r\n    socket.on('newPublicBug', data => {\r\n\r\n      const { projectId, bug, newTimeLine, userId} = data;\r\n\r\n      if(this.projectId === projectId && userId !== this.userId) {\r\n\r\n        this.addNewBugForSocket(bug);\r\n        this.updateStatisticsForSocket('newBug');\r\n        this.newTimeLineForSocket(newTimeLine);\r\n\r\n      }\r\n    })\r\n\r\n    socket.on('publicBugFixed', data => {\r\n\r\n      const {projectId, bugId, newTimeLine, userId} = data;\r\n\r\n      if(this.projectId === projectId && this.userId !== userId) {\r\n        this.updateStatisticsForSocket('fixBug');\r\n        this.bugFixedOrReopenedForSocket(bugId, 'fixed');\r\n        this.newTimeLineForSocket(newTimeLine);\r\n      }\r\n\r\n    })\r\n    \r\n\r\n    socket.on('publicBugReopened', data => {\r\n      const {bugId, projectId, newTimeLine, userId} = data;\r\n\r\n      if(this.projectId === projectId && userId !== this.userId) { \r\n        this.updateStatisticsForSocket('reopenBug');\r\n        this.bugFixedOrReopenedForSocket(bugId, 'reopened');\r\n        this.newTimeLineForSocket(newTimeLine);\r\n      }\r\n    })\r\n\r\n    socket.on('projectClosingOrReopening', data => {\r\n      const {updatedStatus, projectId, userId} = data;\r\n\r\n      if( this.projectId ===  projectId && this.userId !== userId) {\r\n        this.updateProjectStatusForSocket(updatedStatus);\r\n      }\r\n\r\n    })\r\n\r\n\r\n    socket.on('teamIsDeleted', data => {\r\n      \r\n      const {teamId} = data;\r\n      if(this.currentTeamId === teamId && this.state.project.type === 'public') this.props.history.push('/bugtracker/teams')\r\n      this.props.enqueueSnackbar('This team has been deleted by its owner', {variant: 'info'})\r\n    })\r\n\r\n\r\n\r\n    \r\n  }\r\n\r\n  // PROJECTS FUNCTIONS\r\n  getProjectTimeLine = async (withLoading = true, page = 1) => {\r\n    // try&catch because i will also use this function individually\r\n    withLoading && Nprogress.start();\r\n \r\n    try {\r\n\r\n      const response = await projectTimeline(this.projectId, page);\r\n\r\n      this.setState({projectTimeline: response.data.timeline, paginationItemsCount: response.data.paginationItemsCount})\r\n      \r\n\r\n\r\n      withLoading && Nprogress.done();\r\n    } catch (error) {\r\n      Nprogress.done()\r\n\r\n      alert(error.response?.data?.error || 'Something Went Wrong, please try again later')\r\n    }\r\n\r\n  }\r\n\r\n  getProject = async () => {\r\n    //  no try&catch because this func will be called by other func\r\n    await this.getProjectTimeLine(false);\r\n\r\n    const response = await projectDetails(this.projectId);\r\n    \r\n    const {project, projectStatistics} = response.data;\r\n\r\n    this.setState({project, projectStatistics})\r\n  }\r\n\r\n  // for getting all data\r\n  getProjectDetails = async () => {\r\n      await Promise.all([this.getProject(), this.getProjectTimeLine(false)])\r\n  }\r\n\r\n  updateProjectStatus = async () => {\r\n    const project = {...this.state.project};\r\n    \r\n    this.setState({loading:true})\r\n    \r\n    const body = {projectId: project._id, teamId: null}\r\n    \r\n    if(project.type === 'public') body.teamId = this.currentTeamId;\r\n\r\n    try {\r\n      const response = await closeOrReOpenProject(body)  \r\n      \r\n      this.props.enqueueSnackbar(response.data.message || 'Something went wrong', {variant: 'success'})\r\n      \r\n      const updatedStatus = response.data.status;\r\n\r\n      project.status = updatedStatus;\r\n\r\n      this.setState({loading: false, project})\r\n\r\n    } catch (error) {\r\n      this.setState({loading:false})\r\n\r\n      this.props.enqueueSnackbar(error.response.data.error || 'Something went wrong', {variant: 'error'})\r\n    }\r\n  }\r\n\r\n\r\n  // BUGS FUNCTIONS\r\n  updateBugStatus = async () => {\r\n    const {project, selectedBug} = this.state;\r\n  \r\n    this.setState({loading: true})\r\n    \r\n    const body =  {teamId: null, bugId: selectedBug._id, projectId: project._id }\r\n\r\n    if(project.type === 'public') body.teamId = this.currentTeamId;\r\n    \r\n    try {\r\n\r\n      // fixed\r\n     \r\n      if(selectedBug.status === 1){\r\n        \r\n        await reOpenBug(body)\r\n\r\n        this.props.enqueueSnackbar('Bug has been re opened Successfully', { variant: 'success' });\r\n\r\n      } else {\r\n        // buggy\r\n        \r\n        await fixBug(body)\r\n        \r\n        this.props.enqueueSnackbar('Bug has been fixed Successfully', { variant: 'success' });\r\n      }\r\n      \r\n      await this.getProjectDetails(false);\r\n\r\n\r\n      this.setState({loading: false, modalOpen: false})\r\n\r\n    } catch (error) {\r\n      this.props.enqueueSnackbar(error.response.data.error, { variant: 'error' });\r\n      \r\n      this.setState({loading: false})\r\n\r\n    }\r\n    \r\n  }\r\n  \r\n  addBug = async (e,{name, description}) => {\r\n    e.preventDefault();\r\n\r\n    this.setState({loading: true})\r\n    \r\n    const { project } = this.state;\r\n\r\n    const body = {name, description, projectId: project._id, teamId: null};\r\n\r\n    if(project.type === 'public') body.teamId = this.currentTeamId;\r\n\r\n    try {\r\n      const response = await newBug(body);\r\n\r\n      await this.getProjectDetails();\r\n\r\n\r\n      this.props.enqueueSnackbar(response.data.message || 'Something went Wrong', {variant: 'success'})\r\n    this.setState({loading: false, modalOpen: false})\r\n\r\n    } catch (error) {\r\n    this.setState({loading: false})\r\n\r\n      this.props.enqueueSnackbar(error.response.data.error || 'Something went Wrong', {variant: 'error'})\r\n    }\r\n  }\r\n\r\n\r\n  editBugDetails = async (e, {newName, newDescription}) => {\r\n\r\n    e.preventDefault();\r\n\r\n    this.setState({loading: true});\r\n\r\n    try {\r\n \r\n      const {selectedBug, project} = this.state\r\n      \r\n      const body = {newName, newDescription, bugId: selectedBug._id, projectId: project._id};\r\n\r\n      const response = await editBug(body);\r\n\r\n\r\n      await this.getProjectDetails();\r\n      this.props.enqueueSnackbar(response.data.message, {variant:'success'})\r\n\r\n      this.setState({loading: false, modalOpen: false})\r\n\r\n\r\n    } catch (error) {\r\n      this.props.enqueueSnackbar(error.response.data.error || 'Something Went Wrong', {variant:'error'})\r\n      this.setState({loading: false})\r\n    }\r\n  }\r\n\r\n  // MODAL FUNCTIONS\r\n  openBug = (bugId, modalType) => {\r\n\r\n    const {project} = this.state;\r\n    \r\n    const selectedBug = project.bugs.find(bug => bug._id === bugId);\r\n\r\n\r\n    this.setState({ selectedBug })\r\n\r\n    this.openModal(modalType)\r\n  }\r\n\r\n  openModal = modalType => {\r\n \r\n    this.setState({ modalType, modalOpen: true})\r\n  }\r\n\r\n  closeModal = () => {\r\n   this.setState({modalOpen: false})\r\n  }\r\n\r\n\r\n  goBack = () => {\r\n    this.props.history.goBack();\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n  // ____SOCKETS FUNCTIONS____\r\n\r\n\r\n  addNewBugForSocket = (newBug) => {\r\n    const project  = {...this.state.project};\r\n\r\n    const projectBugs = [...project.bugs];\r\n\r\n    projectBugs.unshift(newBug)\r\n\r\n    project.bugs = projectBugs;\r\n\r\n    this.setState({project});\r\n  }\r\n\r\n  bugFixedOrReopenedForSocket = (bugId, type) => {\r\n    const project = {...this.state.project};\r\n\r\n    const projectBugs = [...project.bugs];\r\n\r\n    const bugIndex = projectBugs.findIndex(b => b._id === bugId);\r\n\r\n    const bug = {...projectBugs[bugIndex]};\r\n\r\n    bug.status = type === 'fixed' ? 1 : 0;\r\n\r\n    projectBugs[bugIndex] = bug;\r\n\r\n    project.bugs = projectBugs;\r\n\r\n    this.setState({project});\r\n  }\r\n\r\n\r\n  updateStatisticsForSocket = (type) => {\r\n    \r\n    const projectStatistics = {...this.state.projectStatistics};\r\n    \r\n    switch (type) {\r\n      case 'newBug':\r\n        projectStatistics.total++\r\n        projectStatistics.buggy++\r\n        break;\r\n\r\n      case 'fixBug':\r\n        projectStatistics.fixed++\r\n        projectStatistics.buggy--\r\n        break;\r\n\r\n      case 'reopenBug':\r\n        projectStatistics.buggy++\r\n        projectStatistics.fixed--\r\n        break;\r\n\r\n      default:\r\n        console.log('nothing special')\r\n    }\r\n\r\n\r\n\r\n    this.setState({projectStatistics});\r\n  }\r\n\r\n\r\n  updateProjectStatusForSocket = (updatedStatus) => {\r\n    const project = {...this.state.project};\r\n\r\n    project.status = updatedStatus;\r\n\r\n    this.setState({project});\r\n  }\r\n\r\n\r\n  newTimeLineForSocket = (newTimeline) => {\r\n    const projectTimeline = [...this.state.projectTimeline];\r\n\r\n    projectTimeline.unshift(newTimeline);\r\n\r\n    this.setState({projectTimeline});\r\n  }\r\n\r\n  \r\n  componentWillUnmount() {\r\n    this.socketEvents.forEach(eventName => socket.removeEventListener(eventName));\r\n  }\r\n\r\n\r\n  render() {\r\n    \r\n    if(!this.currentTeamId && this.state.project?.type === 'public') this.goBack()\r\n\r\n    const {project, projectStatistics, projectTimeline, paginationItemsCount, modalOpen, selectedBug, loading, modalType} = this.state\r\n\r\n    return (\r\n      <Fragment>\r\n\r\n\r\n\r\n\r\n\r\n      {(project && projectStatistics && projectTimeline) &&\r\n      \r\n      <Fragment>\r\n        {\r\n          project.status === 1 &&\r\n          <Alert severity=\"info\">This project has been closed, you can`t work on it anymore, well done.</Alert>\r\n        }\r\n      <Paper id='ProjectIntro' elevation={3}>\r\n      \r\n        <h2 > \r\n          {project.name} | <span style={{color: project.status === 0 ? '#d9534f' : '#5cb85c'}}>  ({project.status === 0 ? 'Opened' : 'Closed'}) </span>  \r\n        </h2>\r\n\r\n        <ToolTip title = {<Avatar src={project.owner?.image?.url} />} >\r\n          <h2 id='ownerH2'>Owner: {`${project.owner.firstName} ${project.owner.lastName}`}</h2>\r\n        </ToolTip>\r\n        {\r\n          project.owner._id === this.userId &&\r\n          <LoadingBtn name = {project.status === 0 ? 'close' : 're open'} loading ={loading} func={this.updateProjectStatus}/>\r\n        }\r\n\r\n      </Paper>\r\n\r\n      <div>\r\n\r\n        <div className=\"row\">\r\n        <div className=\"col-md-4\">\r\n        <ProjectTimeline timeline = {projectTimeline} paginationItemsCount = {paginationItemsCount} getProjectTimeLine = {this.getProjectTimeLine}/>\r\n\r\n        </div>\r\n        <div className=\"col-md-8\" id = 'separator'>\r\n          <div style= {{width: '100%'}}>\r\n            <Statistics statistics = {projectStatistics}  />\r\n\r\n          </div>\r\n\r\n        </div>\r\n        </div>\r\n      <div className=\"row\" style={{marginTop: '20px'}}>\r\n        <div className=\"col-md-12\">\r\n          <Bugs openModal = {this.openModal}  bugs = {project.bugs} openBug  = {this.openBug}/>\r\n        </div>\r\n      </div>\r\n      </div>\r\n\r\n      </Fragment>\r\n      }\r\n\r\n\r\n\r\n      {/* Modal, will include addBug, bugDetails, editBug */}\r\n      {modalOpen && <Modal  modalOpen = {modalOpen} header = { modalType=== ('bugDetails' || modalType === 'editBug')? `${selectedBug.name}`: modalType ==='addBug' ? 'Add Bug': null}closeModal = {() => this.closeModal()}>\r\n\r\n       {modalType === 'bugDetails' ?\r\n        <BugDetails updateBugStatus = {this.updateBugStatus} projectType = {project.type} selectedBug ={selectedBug} loading = {loading} />\r\n      \r\n        : modalType === 'addBug' ? <AddBug loading ={loading} addBug = {this.addBug}/>\r\n        \r\n        : modalType === 'editBug' ? <EditBug loading = {loading} selectedBug = {selectedBug}  editBugDetails = {this.editBugDetails} /> : null\r\n      }\r\n\r\n      </Modal>}\r\n\r\n\r\n      </Fragment>\r\n  )}\r\n}\r\n\r\nconst mapStateToProps = state => ({userId: state.currentUser?._id, currentTeamId: state.currentTeamId})\r\n\r\nexport default connect(mapStateToProps)(withSnackbar(ProjectDetails))\r\n","import React from 'react';\r\nimport './Box.scss';\r\nimport { IconButton, Paper, Tooltip } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { DeleteForever, Visibility, ExitToApp } from '@material-ui/icons';\r\nfunction TeamBox(props) {\r\n\tconst { team } = props;\r\n\tconst memberWord = team.members.length === 1 ? 'Member' : 'Members';\r\n\tconst projectWord = team.projects.length === 1 ? 'Project' : 'Projects';\r\n\r\n\tconst goToDetails = teamId => {\r\n\t\tprops.history.push(`/bugtracker/teams/${team._id}`);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='col-md-4' style={{ marginBottom: '20px' }}>\r\n\t\t\t<Paper className='Box teamBox'>\r\n\t\t\t\t<h2>{team.name}</h2>\r\n\t\t\t\t<div style={{ marginBottom: '10px' }}>\r\n\t\t\t\t\t{team.members.length} {memberWord}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>{team.projects.length === 0 ? 'No Projects.' : `${team.projects.length} ${projectWord}`}</div>\r\n\t\t\t\t<p className='secondary'>\r\n\t\t\t\t\tCreated by{' '}\r\n\t\t\t\t\t{team.leader._id === props.userId ? 'you' : `${team.leader.firstName} ${team.leader.lastName}`}\r\n\t\t\t\t</p>\r\n\t\t\t\t<div className='controllers'>\r\n\t\t\t\t\t<Tooltip title='view Project'>\r\n\t\t\t\t\t\t<IconButton onClick={goToDetails}>\r\n\t\t\t\t\t\t\t<Visibility color='primary' />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t{team.leader._id === props.userId ? (\r\n\t\t\t\t\t\t<Tooltip title='Delete Project'>\r\n\t\t\t\t\t\t\t<IconButton onClick={() => props.removeTeam(team._id)}>\r\n\t\t\t\t\t\t\t\t<DeleteForever color='secondary' />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Tooltip title='Leave team'>\r\n\t\t\t\t\t\t\t<IconButton onClick={() => props.leaveTeam(team._id, team.name)}>\r\n\t\t\t\t\t\t\t\t<ExitToApp color='secondary' />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</Paper>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tuserId: state.currentUser && state.currentUser._id\r\n\t};\r\n}\r\n\r\nexport default connect(mapStateToProps)(withRouter(TeamBox));\r\n","import sendRequest from './sendRequest';\r\n\r\n// Teams\r\nexport function newTeam(body) {\r\n\treturn sendRequest('POST', '/teams/newTeam', body);\r\n}\r\n\r\nexport function addMembers(body) {\r\n\treturn sendRequest('POST', '/teams/addMembers', body);\r\n}\r\n\r\nexport function teamDetails(teamId) {\r\n\treturn sendRequest('GET', `/teams/getTeam/${teamId}`);\r\n}\r\n\r\nexport function teamNotifications(teamId, page) {\r\n\treturn sendRequest('GET', `/teams/teamNotifications/${teamId}?page=${page}`);\r\n}\r\n\r\nexport function kickMember(body) {\r\n\treturn sendRequest('PATCH', '/teams/kickMember', body);\r\n}\r\n\r\nexport function deleteTeam(teamId) {\r\n\treturn sendRequest('DELETE', `/teams/deleteTeam/${teamId}`);\r\n}\r\n\r\nexport function leaveTeam(teamId) {\r\n\treturn sendRequest('PATCH', `/teams/leaveTeam/${teamId}`);\r\n}\r\n","import React, { Component } from 'react';\r\nimport LoadingBtn from '../../components/Btn/LoadingBtn';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nexport class AddTeam extends Component {\r\n\tstate = {\r\n\t\tname: ''\r\n\t};\r\n\r\n\twriteHandler = e => {\r\n\t\tthis.setState({ [e.target.name]: e.target.value });\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { loading } = this.props;\r\n\t\tconst { name } = this.state;\r\n\t\treturn (\r\n\t\t\t<form\r\n\t\t\t\tonSubmit={e => {\r\n\t\t\t\t\tthis.props.newTeam(e, name);\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<div style={{ marginBottom: '20px' }}>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tid='outlined-basic'\r\n\t\t\t\t\t\tlabel='Name'\r\n\t\t\t\t\t\tname='name'\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tonChange={this.writeHandler}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<LoadingBtn type='submit' fullWidth={true} loading={loading} name='Create' />\r\n\t\t\t</form>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default AddTeam;\r\n","import React, { Component } from 'react';\r\nimport { userTeams } from '../../Apis/user';\r\nimport { withSnackbar } from 'notistack';\r\nimport Nprogress from 'nprogress';\r\nimport TeamBox from '../../components/Boxes/TeamBox';\r\nimport Modal from '../../components/Modal/Modal';\r\nimport { Add } from '@material-ui/icons';\r\nimport { Button, IconButton, Tooltip } from '@material-ui/core';\r\nimport './Teams.scss';\r\nimport { deleteTeam, newTeam, leaveTeam } from '../../Apis/team';\r\nimport AddTeam from './AddTeam';\r\nimport Alert from '@material-ui/lab/Alert';\r\nexport class Teams extends Component {\r\n\tstate = {\r\n\t\tloading: false,\r\n\t\tteams: null,\r\n\t\tmodalOpen: false\r\n\t};\r\n\r\n\tasync componentDidMount() {\r\n\t\tNprogress.start();\r\n\r\n\t\ttry {\r\n\t\t\tawait this.getTeams();\r\n\r\n\t\t\tNprogress.done();\r\n\t\t} catch (error) {\r\n\t\t\tNprogress.done();\r\n\t\t\talert((error.response && error.response.data.error) || 'Something went wrong, please try again later.');\r\n\t\t}\r\n\t}\r\n\r\n\tgetTeams = async () => {\r\n\t\tconst response = await userTeams(false);\r\n\t\tthis.setState({ teams: response.data.teams });\r\n\t};\r\n\r\n\topenModal = () => {\r\n\t\tthis.setState({ modalOpen: true });\r\n\t};\r\n\r\n\tcloseModal = () => {\r\n\t\tthis.setState({ modalOpen: false });\r\n\t};\r\n\r\n\taddTeam = async (e, name) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tthis.setState({ loading: true });\r\n\r\n\t\ttry {\r\n\t\t\tconst body = { name };\r\n\r\n\t\t\tconst response = await newTeam(body);\r\n\r\n\t\t\tawait this.getTeams();\r\n\r\n\t\t\tthis.setState({ loading: false });\r\n\r\n\t\t\tthis.props.enqueueSnackbar(response.data.message, { variant: 'success' });\r\n\t\t\tthis.closeModal();\r\n\t\t} catch (error) {\r\n\t\t\tthis.props.enqueueSnackbar(error.response && error.response.data.error, { variant: 'error' });\r\n\t\t\tthis.setState({ loading: false });\r\n\t\t}\r\n\t};\r\n\r\n\tremoveTeam = async teamId => {\r\n\t\tif (window.confirm('Are you sure you wanna delete this team ?')) {\r\n\t\t\tNprogress.start();\r\n\t\t\ttry {\r\n\t\t\t\tconst response = await deleteTeam(teamId);\r\n\r\n\t\t\t\tawait this.getTeams();\r\n\r\n\t\t\t\tthis.props.enqueueSnackbar(response.data.message, { variant: 'success' });\r\n\r\n\t\t\t\tNprogress.done();\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error(error);\r\n\t\t\t\tNprogress.done();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tleaveTeam = async (teamId, teamName) => {\r\n\t\tif (window.confirm(`Are you sure you want to leave \"${teamName}\" ?`)) {\r\n\t\t\tNprogress.start();\r\n\r\n\t\t\ttry {\r\n\t\t\t\tconst response = await leaveTeam(teamId);\r\n\t\t\t\tawait this.getTeams();\r\n\t\t\t\tthis.props.enqueueSnackbar(response.data.message, { variant: 'success' });\r\n\t\t\t\tNprogress.done();\r\n\t\t\t} catch (error) {\r\n\t\t\t\tthis.props.enqueueSnackbar(error.response && error.response.data.message, { variant: 'error' });\r\n\t\t\t\tNprogress.done();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\trender() {\r\n\t\tconst { teams, modalOpen, loading } = this.state;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{teams && (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div id='TeamHeader'>\r\n\t\t\t\t\t\t\t<div style={{ fontSize: '1.6rem', fontWeight: 'bold' }}>Your Teams.</div>\r\n\t\t\t\t\t\t\t<Tooltip title='New Team'>\r\n\t\t\t\t\t\t\t\t<Button color='primary' variant='contained' onClick={this.openModal}>\r\n\t\t\t\t\t\t\t\t\t<Add />\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<div className='row'>\r\n\t\t\t\t\t\t\t{teams.length > 0 ? (\r\n\t\t\t\t\t\t\t\tteams.map((team, i) => (\r\n\t\t\t\t\t\t\t\t\t<TeamBox\r\n\t\t\t\t\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\t\t\t\t\tteam={team}\r\n\t\t\t\t\t\t\t\t\t\tremoveTeam={this.removeTeam}\r\n\t\t\t\t\t\t\t\t\t\tleaveTeam={this.leaveTeam}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Alert severity='info' variant='standard' style={{ width: '100%' }}>\r\n\t\t\t\t\t\t\t\t\tYou are not a member of any team.\r\n\t\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{modalOpen && (\r\n\t\t\t\t\t<Modal closeModal={this.closeModal} modalOpen={modalOpen} header='New Team'>\r\n\t\t\t\t\t\t<AddTeam loading={loading} newTeam={this.addTeam} />\r\n\t\t\t\t\t</Modal>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withSnackbar(Teams);\r\n","import React from 'react';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { toDate } from '../../helpers';\r\nimport { connect } from 'react-redux';\r\nimport Pagination from '@material-ui/lab/Pagination';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\n\r\nfunction TeamNotifications(props) {\r\n\tconst { teamNotifications, teamProjects, userId, paginationItemsCount } = props;\r\n\r\n\tlet notifications = <h2 className='secondary text-center'>Notifications Are Empty.</h2>;\r\n\r\n\tif (teamNotifications.length > 0) {\r\n\t\tnotifications = teamNotifications.map((n, i) => {\r\n\t\t\tconst from = n.from._id === userId ? 'You' : `${n.from.firstName} ${n.from.lastName}`;\r\n\r\n\t\t\tif (n.notificationType === 'memberManipulation') {\r\n\t\t\t\tconst to = n.to._id === userId ? 'you' : `${n.to.firstName} ${n.to.lastName}`;\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<ListItem key={i}>\r\n\t\t\t\t\t\t<ListItemAvatar>\r\n\t\t\t\t\t\t\t<Avatar src={n.from?.image?.url} />\r\n\t\t\t\t\t\t</ListItemAvatar>\r\n\t\t\t\t\t\t<ListItemText primary={`${from} ${n.content} (${to})`} secondary={`${toDate(n.createdAt)}`} />\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\t// else, the notificationType === 'projectCreations'\r\n\r\n\t\t\tconst project = teamProjects.find(p => {\r\n\t\t\t\treturn p._id === n.project;\r\n\t\t\t});\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<ListItem key={i}>\r\n\t\t\t\t\t<ListItemAvatar>\r\n\t\t\t\t\t\t<Avatar src={n.from?.image?.url} />\r\n\t\t\t\t\t</ListItemAvatar>\r\n\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\tprimary={`${from} ${n.content} (${project?.name})`}\r\n\t\t\t\t\t\tsecondary={`${toDate(n.createdAt)}`}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</ListItem>\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n\treturn (\r\n\t\t<Paper elevation={3}>\r\n\t\t\t<Typography variant='h6' className='text-center'>\r\n\t\t\t\tNotifications\r\n\t\t\t</Typography>\r\n\r\n\t\t\t<div id='notificationsContainer'>\r\n\t\t\t\t<List>{notifications}</List>\r\n\r\n\t\t\t\t<div\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tbackgroundColor: '#11161A',\r\n\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\tjustifyContent: 'center',\r\n\t\t\t\t\t\tpadding: '0.2rem'\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{teamNotifications.length > 0 && (\r\n\t\t\t\t\t\t<Pagination\r\n\t\t\t\t\t\t\tcount={paginationItemsCount}\r\n\t\t\t\t\t\t\tdisabled={paginationItemsCount < 2}\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\tonChange={(e, newPage) => props.paginateTeamNotifiactions(newPage)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Paper>\r\n\t);\r\n}\r\n\r\nconst mapStateToProps = state => ({ userId: state.currentUser._id });\r\n\r\nexport default connect(mapStateToProps)(TeamNotifications);\r\n","import Alert from '@material-ui/lab/Alert';\r\nimport React from 'react';\r\nimport ProjectBox from '../Boxes/ProjectBox';\r\n\r\nfunction TeamProjects(props) {\r\n\tconst { projects } = props;\r\n\r\n\tlet projectsOfTeam = (\r\n\t\t<Alert severity='info' style={{ width: '100%' }}>\r\n\t\t\tThis team has no projects yet\r\n\t\t</Alert>\r\n\t);\r\n\r\n\tif (projects.length > 0) {\r\n\t\tprojectsOfTeam = projects.map((project, i) => (\r\n\t\t\t<ProjectBox key={i} project={project} removeProject={() => props.removeProject(project._id)} />\r\n\t\t));\r\n\t}\r\n\r\n\treturn <div className='row'>{projectsOfTeam}</div>;\r\n}\r\n\r\nexport default TeamProjects;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { Avatar, IconButton, ListItem, ListItemAvatar, ListItemSecondaryAction, ListItemText } from '@material-ui/core';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nfunction TeamMembers(props) {\r\n\tconst { userId, members, leader } = props;\r\n\tconst leaderBadge = '(TEAM LEADER)';\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{members.map((member, i) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<ListItem key={i}>\r\n\t\t\t\t\t\t<ListItemAvatar>\r\n\t\t\t\t\t\t\t<Avatar src={member.image && member.image.url} />\r\n\t\t\t\t\t\t</ListItemAvatar>\r\n\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\tstyle={{ textTransform: 'capitalize' }}\r\n\t\t\t\t\t\t\tprimary={`${member.firstName} ${member.lastName} ${member._id === leader._id\r\n\t\t\t\t\t\t\t\t? leaderBadge\r\n\t\t\t\t\t\t\t\t: ''}`}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<ListItemSecondaryAction>\r\n\t\t\t\t\t\t\t{leader._id === userId &&\r\n\t\t\t\t\t\t\tleader._id !== member._id && (\r\n\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\tedge='end'\r\n\t\t\t\t\t\t\t\t\taria-label='delete'\r\n\t\t\t\t\t\t\t\t\tonClick={() => props.kickMemberFromTeam(member._id)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<DeleteIcon color='secondary' />\r\n\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ListItemSecondaryAction>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nconst mapStateToProps = state => ({ userId: state.currentUser && state.currentUser._id });\r\n\r\nexport default connect(mapStateToProps)(TeamMembers);\r\n","import {\r\n\tAvatar,\r\n\tIconButton,\r\n\tList,\r\n\tListItem,\r\n\tListItemAvatar,\r\n\tListItemSecondaryAction,\r\n\tListItemText,\r\n\tTextField\r\n} from '@material-ui/core';\r\nimport React, { Component, Suspense } from 'react';\r\nimport { findUserWithPrivateKey } from '../../Apis/user';\r\nimport { withSnackbar } from 'notistack';\r\nimport './Teams.scss';\r\nimport LoadingBtn from '../../components/Btn/LoadingBtn';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nexport class AddMembers extends Component {\r\n\tstate = {\r\n\t\tmembersToAdd: [],\r\n\t\tloading: false,\r\n\t\tuserKey: '',\r\n\t\tfoundUser: null\r\n\t};\r\n\r\n\tgetMember = async () => {\r\n\t\tthis.setState({ loading: true });\r\n\t\ttry {\r\n\t\t\tconst { userKey } = this.state;\r\n\r\n\t\t\tconst response = await findUserWithPrivateKey(userKey, this.props.teamId);\r\n\r\n\t\t\tthis.setState({ loading: false, foundUser: response.data.user, userKey: '' });\r\n\r\n\t\t\tthis.props.enqueueSnackbar(response.data.message, { variant: 'success' });\r\n\t\t} catch (error) {\r\n\t\t\tthis.setState({ loading: false });\r\n\t\t\tthis.props.enqueueSnackbar((error.response && error.response.data.error) || 'Something went wrong', {\r\n\t\t\t\tvariant: 'error'\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tremoveFromList = memberId => {\r\n\t\tconst { membersToAdd } = this.state;\r\n\r\n\t\tconst membersToAddCopy = [ ...membersToAdd ];\r\n\r\n\t\tconst updatedMembers = membersToAddCopy.filter(member => member._id !== memberId);\r\n\r\n\t\tthis.setState({ membersToAdd: updatedMembers });\r\n\t};\r\n\r\n\taddToList = () => {\r\n\t\tconst { foundUser, membersToAdd } = this.state;\r\n\r\n\t\tconst sameUser = membersToAdd.find(member => member._id === foundUser._id);\r\n\r\n\t\tif (sameUser) return this.props.enqueueSnackbar('This user is already in your list', { variant: 'error' });\r\n\r\n\t\tconst updatedMembers = [ ...membersToAdd ];\r\n\r\n\t\tupdatedMembers.push(foundUser);\r\n\r\n\t\tthis.setState({ membersToAdd: updatedMembers, foundUser: null });\r\n\t};\r\n\r\n\tchangeHandler = e => {\r\n\t\tthis.setState({ userKey: e.target.value });\r\n\t};\r\n\r\n\trender() {\r\n\t\t// we will have outerLoading and innerLoading\r\n\t\tconst { loading, foundUser, userKey, membersToAdd } = this.state;\r\n\t\tconst { outerLoading } = this.props;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div id='addMembers'>\r\n\t\t\t\t\t{/* Added Members section */}\r\n\t\t\t\t\t<div className='membersListSection'>\r\n\t\t\t\t\t\t<h2>Your Members List:</h2>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{membersToAdd.length > 0 &&\r\n\t\t\t\t\t\t\t\tmembersToAdd.map((member, i) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<ListItem key={i}>\r\n\t\t\t\t\t\t\t\t\t\t\t<ListItemAvatar>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Avatar src={member.image && member.image.url} />\r\n\t\t\t\t\t\t\t\t\t\t\t</ListItemAvatar>\r\n\t\t\t\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ textTransform: 'capitalize' }}\r\n\t\t\t\t\t\t\t\t\t\t\t\tprimary={`${member.firstName} ${member.lastName}`}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t<ListItemSecondaryAction>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tedge='end'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-label='delete'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.removeFromList(member._id)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteIcon color='secondary' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t\t\t</ListItemSecondaryAction>\r\n\t\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{/* found user section */}\r\n\t\t\t\t\t<div className='findSection'>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tid='outlined-basic'\r\n\t\t\t\t\t\t\tlabel='User Key'\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\tonChange={this.changeHandler}\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tvalue={userKey}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<br />\r\n\r\n\t\t\t\t\t\t<LoadingBtn\r\n\t\t\t\t\t\t\tname='find'\r\n\t\t\t\t\t\t\tloading={loading}\r\n\t\t\t\t\t\t\tdisabled={userKey.trim() === ''}\r\n\t\t\t\t\t\t\tfunc={this.getMember}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{foundUser && (\r\n\t\t\t\t\t\t\t<div className='foundUser'>\r\n\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t<ListItemAvatar>\r\n\t\t\t\t\t\t\t\t\t\t<Avatar src={foundUser.image && foundUser.image.url} />\r\n\t\t\t\t\t\t\t\t\t</ListItemAvatar>\r\n\t\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ textTransform: 'capitalize' }}\r\n\t\t\t\t\t\t\t\t\t\tprimary={`${foundUser.firstName} ${foundUser.lastName}`}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<ListItemSecondaryAction>\r\n\t\t\t\t\t\t\t\t\t\t<IconButton edge='end' aria-label='add' onClick={this.addToList}>\r\n\t\t\t\t\t\t\t\t\t\t\t<AddIcon color='primary' />\r\n\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t</ListItemSecondaryAction>\r\n\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<LoadingBtn\r\n\t\t\t\t\tname='add members'\r\n\t\t\t\t\tloading={outerLoading}\r\n\t\t\t\t\tfunc={() => this.props.addMembersToTeam(membersToAdd)}\r\n\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\tdisabled={membersToAdd.length === 0}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withSnackbar(AddMembers);\r\n","import React, { Component, Fragment } from 'react';\r\nimport { addMembers, kickMember, teamNotifications, teamDetails } from '../../Apis/team';\r\nimport {deleteProject} from '../../Apis/project';\r\nimport Modal from '../../components/Modal/Modal';\r\nimport Nprogrss from 'nprogress';\r\nimport Notifications from '../../components/Teams/TeamNotifications';\r\nimport { withSnackbar } from 'notistack';\r\nimport { Button, Tooltip } from '@material-ui/core';\r\nimport { Add } from '@material-ui/icons';\r\nimport Statistics from '../../components/Statistics/Statistics';\r\nimport TeamProjects from '../../components/Teams/TeamProjects';\r\nimport { connect } from 'react-redux';\r\nimport { saveCurrentTeamId } from '../../store/actions';\r\nimport TeamMembers from '../../components/Teams/TeamMembers';\r\nimport AddMembers from './AddMembers';\r\nimport {socket} from '../../index'\r\nimport './Teams.scss'\r\nexport class TeamDetails extends Component {\r\n\tstate = {\r\n\t\tloading: false,\r\n\t\tteamStatistics: null,\r\n\t\tteam: null, // {name, leader, members: [], projects: { bugs: [ { _id, status } ] } }\r\n\t\tteamNotifications: null,\r\n\t\tpaginationItemsCount: 0,\r\n\t\tmodalOpen: false,\r\n\t\tmodalType: ''\r\n\t};\r\n\r\n\tteamId = this.props.match.params.teamId;\r\n\tuserId = this.props.userId\r\n\r\n\r\n\tsocketListeners = ['newMembersForTeam', 'userHasKicked', 'newPublicBug', 'publicBugFixed', 'publicBugReopened', 'newTeamProject', 'projectClosingOrReopening', 'teamIsDeleted', 'leaderKickedProjectOwner']\r\n\r\n\tasync componentDidMount() {\r\n\t\tNprogrss.start();\r\n\r\n\t\ttry {\r\n\t\t\tawait this.getTeamData();\r\n\r\n\t\t\tNprogrss.done();\r\n\t\t} catch (error) {\r\n\t\t\tNprogrss.done();\r\n\r\n\t\t\tthis.props.enqueueSnackbar(\r\n\t\t\t\terror.response && (error.response.data.error || 'Something went wrong', { variant: 'error' })\r\n\t\t\t);\r\n\t\t}\r\n\t\t\r\n\t\tsocket.on('newMembersForTeam', data => {\r\n\t\t\t\r\n\t\t\tconst {teamMembers,team,newTeamNotifications,usersToAdd, leaderId } = data;\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tif(teamMembers.includes(this.userId) && this.teamId === team._id && this.userId !== leaderId) {\r\n\t\t\t\tthis.increaseTeamMembers(usersToAdd);\r\n\t\t\t\tthis.updateTeamNotifications(newTeamNotifications, 'add');\r\n\t\t\t}\r\n\t\t\t\r\n\t\t})\r\n\t\t\r\n\t\tsocket.on('userHasKicked', async data => {\r\n\t\t\t\r\n\t\t\tconst {newTeamNotification, team, kickedUser, leaderId, projectLeaderIsKicked} = data;\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tif(team._id === this.teamId && leaderId !== this.userId ) {\r\n\r\n\t\t\t\tif(projectLeaderIsKicked) {\r\n\r\n\t\t\t\t\treturn await this.getTeamData()\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif(this.userId === kickedUser) return this.props.history.push('/bugTracker/teams');\r\n\t\t\t\t\r\n\t\t\t\tthis.updateTeamNotifications(newTeamNotification, 'remove');\r\n\t\t\t\t\r\n\t\t\t\tthis.decreaseTeamMembers(kickedUser);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t})\r\n\t\t\r\n\t\tsocket.on('newPublicBug', data => {\r\n\t\t\t\r\n\t\t\tconst {teamId, projectId} = data;\r\n\t\t\t\r\n\t\t\tif(this.teamId === teamId) { \r\n\t\t\t\tthis.updateBugStatistics('newPublicBug', projectId)\r\n\t\t\t}\r\n\t\t})\r\n\t\t\r\n\t\tsocket.on('publicBugFixed', data => {\r\n\t\t\tconst {teamId} = data;\r\n\t\t\tif(this.teamId === teamId) {\r\n\t\t\t\tthis.updateBugStatistics('publicBugFixed')\r\n\t\t\t}\r\n\t\t})\r\n\t\t\r\n\t\tsocket.on('publicBugReopened', data => {\r\n\t\t\tconst {teamId} = data;\r\n\t\t\t\r\n\t\t\tif(teamId === this.teamId)  {\r\n\t\t\t\tthis.updateBugStatistics('publicBugReopened')\r\n\t\t\t}\r\n\t\t})\r\n\t\t\r\n\t\tsocket.on('newTeamProject', data => {\r\n\t\t\t\r\n\t\t\tconst {newTeamNotification, project, teamId} = data;\r\n\t\t\t\r\n\t\t\tif(teamId === this.teamId) {\r\n\t\t\t\tthis.newProjectForTeam(project);\r\n\t\t\t\tthis.updateTeamNotifications(newTeamNotification, 'addProjectNotification');\r\n\t\t\t\tthis.updateProjectsStatistics('newProject');\r\n\t\t\t}\r\n\t\t})\r\n\t\t\r\n\t\tsocket.on('projectClosingOrReopening', data => {\r\n\t\t\tconst {teamId, newTeamNotification, updatedStatus, projectId} = data;\r\n\t\t\t\r\n\t\t\tif(this.teamId === teamId) {\r\n\t\t\t\t\r\n\t\t\t\tthis.updateProjectStatusForTeam(projectId, updatedStatus)\r\n\t\t\t\tthis.updateTeamNotifications(newTeamNotification, 'addProjectNotification')\r\n\t\t\t\tthis.updateProjectsStatistics('projectOpenedOrClosed', updatedStatus);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t})\r\n\t\t\r\n\t\t\r\n\r\n\r\n\t\tsocket.on('teamIsDeleted', data => {\r\n\t\t\tconst {teamId} = data;\r\n\t\t\tif(teamId === this.teamId) this.props.history.push('/bugtracker/teams');\r\n\t\t})\r\n\t\t\r\n\t}\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tgetTeamData = async () => {\r\n\t\t\tawait Promise.all([ this.getTeam(), this.getTeamNotifications() ]);\r\n\t\t};\r\n\t\t\r\n\t\tgetTeam = async () => {\r\n\t\t\tconst response = await teamDetails(this.teamId);\r\n\t\t\t\r\n\t\t\tthis.props.saveCurrentTeamId(response.data.team._id);\r\n\t\t\t\r\n\t\t\tthis.setState({ team: response.data.team, teamStatistics: response.data.teamStatistics });\r\n\t\t};\r\n\t\t\r\n\t\tgetTeamNotifications = async () => {\r\n\t\t\tconst response = await teamNotifications(this.teamId, 1);\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tteamNotifications: response.data.notifications,\r\n\t\t\t\tpaginationItemsCount: response.data.paginationItemsCount\r\n\t\t\t});\r\n\t};\r\n\r\n\tpaginateTeamNotifiactions = async (page = 1) => {\r\n\t\tNprogrss.start();\r\n\t\ttry {\r\n\t\t\tconst response = await teamNotifications(this.teamId, page);\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\tteamNotifications: response.data.notifications,\r\n\t\t\t\tpaginationItemsCount: response.data.paginationItemsCount\r\n\t\t\t});\r\n\r\n\t\t\tNprogrss.done();\r\n\t\t} catch (error) {\r\n\t\t\tthis.props.enqueueSnackbar(error.reponse.data.error || 'Something went wrong', { variant: 'error' });\r\n\r\n\t\t\tNprogrss.done();\r\n\t\t}\r\n\t};\r\n\r\n\topenModal = modalType => {\r\n\t\tthis.setState({ modalOpen: true, modalType });\r\n\t};\r\n\r\n\tcloseModal = () => {\r\n\t\tthis.setState({ modalOpen: false });\r\n\t};\r\n\r\n\tkickMemberFromTeam = async memberId => {\r\n\t\tconst teamId = this.teamId;\r\n\r\n\t\tNprogrss.start();\r\n\t\tconst body = { teamId, memberId };\r\n\r\n\t\ttry {\r\n\t\t\tconst response = await kickMember(body);\r\n\r\n\t\t\tawait this.getTeamData();\r\n\r\n\t\t\tNprogrss.done();\r\n\r\n\t\t\tthis.props.enqueueSnackbar(response.data.message, { variant: 'success' });\r\n\t\t\t// this.closeModal()\r\n\t\t} catch (error) {\r\n\t\t\tNprogrss.done();\r\n\t\t\tthis.props.enqueueSnackbar(error.response.data.error || 'Something Went Wrong.', { variant: 'error' });\r\n\t\t}\r\n\t};\r\n\r\n\taddMembersToTeam = async membersList => {\r\n\t\t// you will receive array of objects, map it to ids only\r\n\t\tconst members = membersList.map(member => member._id);\r\n\r\n\t\tthis.setState({ loading: true });\r\n\t\ttry {\r\n\t\t\tconst teamId = this.teamId;\r\n\r\n\t\t\tconst body = { teamId, members };\r\n\r\n\t\t\tconst response = await addMembers(body);\r\n\r\n\t\t\tawait this.getTeamData();\r\n\r\n\t\t\tthis.props.enqueueSnackbar(response.data.message, { variant: 'success' });\r\n\t\t\tthis.setState({ loading: false });\r\n\t\t\tthis.closeModal();\r\n\t\t} catch (error) {\r\n\t\t\tthis.props.enqueueSnackbar(error.response?.data?.error || 'Something Went wring', { variant: 'error' });\r\n\t\t\tthis.setState({ loading: false });\r\n\t\t}\r\n\t};\r\n\r\n\r\n\tremoveProject = async projectId => {\r\n\t\t\r\n\t\tNprogrss.start();\r\n\r\n\t\ttry {\r\n\t\t\tconst response = await deleteProject(projectId,this.teamId);\r\n\t\t\tawait this.getTeamData();\r\n\t\t\tthis.props.enqueueSnackbar(response.data.message, {variant: 'success'});\r\n\t\t\tNprogrss.done();\r\n\r\n\t\t} catch (error) {\r\n\t\t\tNprogrss.done()\r\n\t\t}\r\n\t}\r\n\r\n\t// SOCKETS FUNCTIONS\r\n\r\n\t\r\n\tupdateTeamNotifications = (newNotifications, type) => {\r\n\r\n\t\tconst teamNotifications  = [...this.state.teamNotifications]\r\n\r\n\t\tif(type === 'add') {\r\n\r\n\t\t\t\r\n\t\t\tnewNotifications.forEach(notification => {\r\n\t\t\t\t\r\n\t\t\t\tteamNotifications.unshift(notification);\r\n\t\t\t\t\r\n\t\t\t})\r\n\t\t\t\r\n\t\t}\r\n\r\n\r\n\t\tif(type === 'remove') {\r\n\t\t\tteamNotifications.unshift(newNotifications); // at this case its only an object\r\n\t\t}\r\n\r\n\t\tif(type === 'addProjectNotification') {\r\n\r\n\t\t\tteamNotifications.unshift(newNotifications)\r\n\r\n\t\t}\r\n\t\t\r\n\t\tthis.setState({teamNotifications: teamNotifications});\r\n\t}\r\n\r\n\r\n\r\n\tincreaseTeamMembers = (newMembers) => {\r\n\t\tconst updatedTeam = {...this.state.team};\r\n\r\n\t\tconst teamMembers = [...updatedTeam.members]\r\n\t\t\r\n\t\tconst updatedMembers = teamMembers.concat(newMembers);\r\n\r\n\t\tupdatedTeam.members = updatedMembers;\r\n\t\r\n\t\tthis.setState({team: updatedTeam});\r\n\r\n\t}\r\n\r\n\tdecreaseTeamMembers = (kickedUser) => {\r\n\t\tconst updatedTeam = {...this.state.team};\r\n\r\n\t\tconst teamMembers = [...updatedTeam.members];\r\n\r\n\t\tconst updatedTeamMembers = teamMembers.filter(mem => mem._id !== kickedUser)\r\n\r\n\t\tupdatedTeam.members = updatedTeamMembers;\r\n\r\n\t\tthis.setState({team: updatedTeam})\r\n\r\n\t}\r\n\r\n\r\n\r\n\r\n\tupdateBugStatistics = (type, projectId) => {\r\n\t\tconst teamStatistics = {...this.state.teamStatistics}\r\n\r\n\t\tconst bugs = {...teamStatistics.bugs};\r\n\r\n\t\tif(type === 'newPublicBug') {\r\n\t\t\t\r\n\t\t\tbugs.totalBugs+=1\r\n\t\t\tbugs.buggyBugs+=1\r\n\r\n\t\t\tconst team = {...this.state.team};\r\n\r\n\t\t\tconst projects = [...team.projects];\r\n\r\n\r\n\t\t\tconst bugProjectIndex = projects.findIndex(project => project._id === projectId);\r\n\r\n\t\t\tconst bugProject = {...projects[bugProjectIndex]};\r\n\r\n\t\t\tconst bugProjectBugs = [...bugProject.bugs];\r\n\r\n\t\t\tbugProjectBugs.push({_id: '11111111111111', status: 0})\r\n\r\n\t\t\tbugProject.bugs = bugProjectBugs;\r\n\r\n\t\t\tprojects[bugProjectIndex] = bugProject\r\n\r\n\t\t\tteam.projects = projects;\r\n\r\n\t\t\tthis.setState({team})\r\n\t\t}\r\n\r\n\t\tif( type === 'publicBugFixed') {\r\n\t\t\tbugs.buggyBugs -= 1\r\n\t\t\tbugs.fixedBugs =+1\r\n\t\t}\r\n\r\n\t\tif(type === 'publicBugReopened') {\r\n\t\t\tbugs.buggyBugs +=1\r\n\t\t\tbugs.fixedBugs -=1\r\n\r\n\t\t}\r\n\r\n\t\tteamStatistics.bugs = bugs;\r\n\r\n\t\tthis.setState({teamStatistics});\r\n\r\n\t}\r\n\r\n\r\n\tnewProjectForTeam = (newProject) => {\r\n\t\tconst team = {...this.state.team};\r\n\r\n\t\tconst teamProjects = [...team.projects];\r\n\r\n\t\tteamProjects.push(newProject);\r\n\r\n\t\tteam.projects = teamProjects;\r\n\r\n\t\tthis.setState({team})\r\n\r\n\t}\r\n\r\n\r\n\tupdateProjectStatusForTeam = (projectId, updatedStatus) => {\r\n\r\n\t\tconst team = {...this.state.team};\r\n\r\n\t\tconst teamProjects = [...team.projects];\r\n\r\n\t\tconst projectIndex = teamProjects.findIndex(project => project._id === projectId);\r\n\t\t\r\n\t\tconst project  = {...teamProjects[projectIndex]};\r\n\r\n\t\tproject.status = updatedStatus;\r\n\r\n\t\tteamProjects[projectIndex] =  project;\r\n\r\n\t\tteam.projects = teamProjects;\r\n\r\n\t\tthis.setState({team})\r\n\r\n\t}\r\n\r\n\r\n\r\n\tupdateProjectsStatistics = (type, updatedStatus) => {\r\n\r\n\r\n\t\tconst teamStatistics = {...this.state.teamStatistics};\r\n\r\n\t\tconst projects = {...teamStatistics.projects};\r\n\r\n\t\tif(type === 'newProject') {\r\n\t\t\tprojects.totalProjects++\r\n\t\t\tprojects.openedProjects++\r\n\t\t}\r\n\r\n\t\tif(type === 'projectOpenedOrClosed') {\r\n\r\n\t\t\tif(updatedStatus === 1) {\r\n\t\t\t\t//closed\r\n\t\t\t\tprojects.closedProjects++\r\n\t\t\t\tprojects.openedProjects--\r\n\t\t\t}\r\n\r\n\t\t\tif(updatedStatus === 0) {\r\n\r\n\t\t\t\t// opened\r\n\t\t\t\tprojects.openedProjects++\r\n\t\t\t\tprojects.closedProjects--\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\r\n\r\n\t\tteamStatistics.projects = projects;\r\n\r\n\t\tthis.setState({teamStatistics})\r\n\r\n\t}\r\n\r\n\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis.socketListeners.forEach(eventName => socket.removeEventListener(eventName))\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\tconst {\r\n\t\t\tteam,\r\n\t\t\tteamNotifications,\r\n\t\t\tpaginationItemsCount,\r\n\t\t\tteamStatistics,\r\n\t\t\tloading,\r\n\t\t\tmodalOpen,\r\n\t\t\tmodalType,\r\n\t\t} = this.state;\r\n\r\n\t\tconst userId = this.userId;\r\n\r\n\t\tlet leader;\r\n\r\n\t\tlet memberWord;\r\n\r\n\t\tif (team) {\r\n\t\t\tfor (const member of team.members) {\r\n\t\t\t\tif (member._id === team.leader) leader = member;\r\n\t\t\t}\r\n\r\n\t\t\tmemberWord = `${team.members.length} Members`;\r\n\r\n\t\t\tif (team.members.length === 1) memberWord = `${team.members.length} Member`;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t{team &&\r\n\t\t\t\tteamNotifications &&\r\n\t\t\t\tteamStatistics && (\r\n\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t<div id='teamContHeader'>\r\n\t\t\t\t\t\t\t<h2 className='teamH'>\r\n\t\t\t\t\t\t\t\t<span>{team.name}</span> |\r\n\t\t\t\t\t\t\t\t<span className='teamMembers' onClick={() => this.openModal('teamMembers')}>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t{memberWord}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t{/* Add Members Buttton */}\r\n\t\t\t\t\t\t\t{userId === team.leader && (\r\n\t\t\t\t\t\t\t\t<Tooltip title='Add Members'>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.openModal('addMembers')}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Add />members\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<div className='row'>\r\n\t\t\t\t\t\t\t<div className='col-md-4' style={{marginBottom:'20px'}}>\r\n\t\t\t\t\t\t\t\t<Notifications\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tteamProjects={team.projects}\r\n\t\t\t\t\t\t\t\t\tteamNotifications={teamNotifications}\r\n\t\t\t\t\t\t\t\t\tpaginationItemsCount={paginationItemsCount}\r\n\t\t\t\t\t\t\t\t\tpaginateTeamNotifiactions={this.paginateTeamNotifiactions}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='col-md-8'>\r\n\t\t\t\t\t\t\t\t<Statistics statistics={teamStatistics} Statfor='team' />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div id='teamProjects'>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<h2>Team Projects</h2>\r\n\t\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<TeamProjects projects={team.projects} removeProject = {this.removeProject}/>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t{modalOpen && (\r\n\t\t\t\t\t\t\t<Modal\r\n\t\t\t\t\t\t\t\tmodalOpen={modalOpen}\r\n\t\t\t\t\t\t\t\tcloseModal={this.closeModal}\r\n\t\t\t\t\t\t\t\theader={\r\n\t\t\t\t\t\t\t\t\tmodalType === 'teamMembers' ? (\r\n\t\t\t\t\t\t\t\t\t\t'Team Members'\r\n\t\t\t\t\t\t\t\t\t) : modalType === 'addMembers' ? (\r\n\t\t\t\t\t\t\t\t\t\t'Add Members'\r\n\t\t\t\t\t\t\t\t\t) : null\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{modalType === 'teamMembers' ? (\r\n\t\t\t\t\t\t\t\t\t<TeamMembers\r\n\t\t\t\t\t\t\t\t\t\tkickMemberFromTeam={this.kickMemberFromTeam}\r\n\t\t\t\t\t\t\t\t\t\tmembers={team.members}\r\n\t\t\t\t\t\t\t\t\t\tleader={leader}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t) : modalType === 'addMembers' ? (\r\n\t\t\t\t\t\t\t\t\t<AddMembers\r\n\t\t\t\t\t\t\t\t\t\tteamId={this.teamId}\r\n\t\t\t\t\t\t\t\t\t\touterLoading={loading}\r\n\t\t\t\t\t\t\t\t\t\taddMembersToTeam={this.addMembersToTeam}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t</Modal>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Fragment>\r\n\t\t\t\t)}\r\n\t\t\t</Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapDispatchesToProps = dispatch => ({\r\n\tsaveCurrentTeamId: currentTeamId => dispatch(saveCurrentTeamId(currentTeamId))\r\n});\r\n\r\nconst mapStateToProps = state => ({ userId: state.currentUser && state.currentUser._id });\r\n\r\nexport default connect(mapStateToProps, mapDispatchesToProps)(withSnackbar(TeamDetails));\r\n","import React, { Component } from 'react';\r\nimport Form from '../../components/Form/Form';\r\nimport { newProject } from '../../Apis/project';\r\nimport { userTeams } from '../../Apis/user';\r\nimport {withSnackbar} from 'notistack'\r\nimport {\r\n\tFormControl,\r\n\tFormControlLabel,\r\n\tFormLabel,\r\n\tInputLabel,\r\n\tMenuItem,\r\n\tRadio,\r\n\tRadioGroup,\r\n\tSelect,\r\n\tTextField\r\n} from '@material-ui/core';\r\nimport LoadingBtn from '../../components/Btn/LoadingBtn';\r\nexport class AddProject extends Component {\r\n\tstate = {\r\n\t\tname: '',\r\n\t\tteams: null,\r\n\t\ttype: 'private',\r\n    teamId: null,\r\n    loading: false\r\n\t};\r\n\r\n\tchangeHandler = e => {\r\n\t\tconst value = e.target.value;\r\n    this.setState({ [e.target.name]: value });\r\n    return value\r\n\t};\r\n\r\n\ttypeChangeHandler = async e => {\r\n\t\tconst type = this.changeHandler(e);\r\n\r\n\t\tconst { teams } = this.state;\r\n\r\n\t\tif (type === 'public' && !teams) {\r\n      await this.fetchteams();\r\n    }\r\n\t};\r\n\r\n\tfetchteams = async () => {\r\n\t\ttry {\r\n\t\t\tconst response = await userTeams('yes');\r\n\r\n      const teams = response.data.teams;\r\n\t\t\tthis.setState({ teams, teamId: teams[0]?._id });\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(error);\r\n\t\t}\r\n  };\r\n  \r\n\r\n\r\n  newProject = async () => {\r\n    this.setState({loading: true})\r\n    try {\r\n      \r\n      const {name, type, teamId} = this.state;\r\n\r\n      const body = {name, type};\r\n      \r\n      if( type === 'public')  body.teamId = teamId\r\n      \r\n      const response = await newProject(body);\r\n      \r\n\r\n      this.setState({loading: false})\r\n\r\n      this.props.enqueueSnackbar(response.data.message, { variant: 'success' })\r\n      \r\n\r\n      setTimeout(this.navigateAfterAdding, 1000);\r\n\r\n\r\n    } catch (error) {\r\n    this.setState({loading: false})\r\n\r\n      this.props.enqueueSnackbar(error.response?.data?.error || 'Something went wrong', { variant: 'error' })    }\r\n  }\r\n\r\n\r\n  navigateAfterAdding = () => {\r\n    const {type, teamId} = this.state;\r\n\r\n    if(type === 'public') {\r\n      return this.props.history.push(`/bugtracker/teams/${teamId}`)\r\n    }\r\n\r\n    this.props.history.push('/bugtracker/dashboard')\r\n\r\n  }\r\n\r\n\trender() {\r\n\t\tconst { type, name, teams, teamId, loading } = this.state;\r\n\t\treturn (\r\n\t\t\t<Form type='New Project'>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tid='outlined-basic'\r\n\t\t\t\t\tlabel='Name'\r\n\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tvalue={name}\r\n\t\t\t\t\tname='name'\r\n\t\t\t\t\tonChange={this.changeHandler}\r\n\t\t\t\t/>\r\n\t\t\t\t<br />\r\n\t\t\t\t<br />\r\n\t\t\t\t{/* RADIO BUTTON */}\r\n\t\t\t\t<FormControl component='fieldset'>\r\n\t\t\t\t\t<FormLabel component='legend'>Project Type</FormLabel>\r\n\t\t\t\t\t<RadioGroup\r\n\t\t\t\t\t\taria-label='Project Type'\r\n\t\t\t\t\t\tname='ProjectType'\r\n\t\t\t\t\t\tvalue={type}\r\n\t\t\t\t\t\tonChange={this.typeChangeHandler}\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\tvalue='private'\r\n\t\t\t\t\t\t\tcontrol={<Radio />}\r\n\t\t\t\t\t\t\tlabel='private'\r\n\t\t\t\t\t\t\tname='type'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\tvalue='public'\r\n\t\t\t\t\t\t\tcontrol={<Radio />}\r\n\t\t\t\t\t\t\tlabel='public'\r\n\t\t\t\t\t\t\tname='type'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</RadioGroup>\r\n\t\t\t\t</FormControl>\r\n\t\t\t\t<br />\r\n\t\t\t\t<br />\r\n\t\t\t\t{/* Team Selection */}\r\n\t\t\t\t{teams?.length > 0 &&\r\n\t\t\t\ttype === 'public' && (\r\n\t\t\t\t\t<FormControl variant='filled' fullWidth>\r\n\t\t\t\t\t\t<InputLabel id='demo-simple-select-filled-label'>Select Team</InputLabel>\r\n\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\tlabelId='demo-simple-select-filled-label'\r\n\t\t\t\t\t\t\tid='demo-simple-select-filled'\r\n\t\t\t\t\t\t\tvalue={teamId}\r\n\t\t\t\t\t\t\tonChange={this.changeHandler}\r\n\t\t\t\t\t\t\tname='teamId'\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{teams.map((team, i) => <MenuItem value={team._id}>{team.name}</MenuItem>)}\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t</FormControl>\r\n\t\t\t\t)}\r\n\r\n        <br/>\r\n        <br/>\r\n\r\n        <LoadingBtn name = 'New Project' loading = {loading} func = {this.newProject} fullWidth = {true} disabled = {name.trim().length === 0}/>\r\n\t\t\t</Form>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withSnackbar(AddProject);\r\n","import React, { Component } from 'react';\r\nimport { fetchUser } from '../../store/actions';\r\nimport Nprogress from 'nprogress';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\n// COMPONENTS\r\nimport Layout from '../../components/Layout/Layout';\r\nimport Profile from '../Profile/Profile';\r\nimport EditProfile from '../Profile/EditProfile';\r\nimport PersonalProjects from '../Projects/PersonalProjects';\r\nimport ProjectDetails from '../ProjectDetails/ProjectDetails';\r\nimport Teams from '../Teams/Teams';\r\nimport TeamDetails from '../Teams/TeamDetails';\r\nimport AddProject from '../Projects/AddProject';\r\nexport class BugTracker extends Component {\r\n\tcomponentDidMount() {\r\n\t\ttry {\r\n\t\t\tthis.props.getUserData();\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(error);\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (this.props.loading) {\r\n\t\t\tNprogress.start();\r\n\t\t} else {\r\n\t\t\tNprogress.done();\r\n\t\t\t// we are done, userData are there, navigate to his profile\r\n\t\t}\r\n\r\n\t\t// const token = localStorage.getItem('token');\r\n\r\n\t\t// if (!token) this.props.history.push('/');\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{this.props.user && (\r\n\t\t\t\t\t<Layout>\r\n\t\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t\t{/* PROFILE */}\r\n\t\t\t\t\t\t\t<Route exact path='/bugtracker/profile' component={Profile} />\r\n\t\t\t\t\t\t\t<Route exact path='/bugtracker/profile/edit' component={EditProfile} />\r\n\r\n\t\t\t\t\t\t\t{/* PERSONAL DASHBOARD */}\r\n\t\t\t\t\t\t\t<Route exact path='/bugtracker/dashboard' component={PersonalProjects} />\r\n\t\t\t\t\t\t\t<Route exact path='/bugtracker/project/:projectId' component={ProjectDetails} />\r\n\r\n\t\t\t\t\t\t\t{/* TEAMS */}\r\n\t\t\t\t\t\t\t<Route exact path='/bugtracker/teams' component={Teams} />\r\n\t\t\t\t\t\t\t<Route exact path='/bugtracker/teams/:teamId' component={TeamDetails} />\r\n\r\n\t\t\t\t\t\t\t{/* NewProject */}\r\n\t\t\t\t\t\t\t<Route exact path='/bugtracker/newProject' component={AddProject} />\r\n\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t</Layout>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\treturn { user: state.currentUser, loading: state.loading };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n\treturn {\r\n\t\tgetUserData: () => dispatch(fetchUser())\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(BugTracker);\r\n","import React, { Component } from 'react';\r\nimport Form from '../../components/Form/Form';\r\nimport LoadingBtn from '../../components/Btn/LoadingBtn';\r\nimport { TextField } from '@material-ui/core';\r\nimport { withSnackbar } from 'notistack';\r\nimport { connect } from 'react-redux';\r\nimport { storeForgetedPasswordEmail } from '../../store/actions';\r\nimport { forgetPassword } from '../../Apis/auth';\r\nimport Alert from '@material-ui/lab/Alert';\r\nexport class ForgetPassword extends Component {\r\n\tstate = {\r\n\t\temail: '',\r\n\t\tloading: false\r\n\t};\r\n\r\n\tsubmitHandler = async e => {\r\n\t\te.preventDefault();\r\n\t\tthis.setState({ loading: true });\r\n\t\ttry {\r\n\t\t\tconst { email } = this.state;\r\n\r\n\t\t\tconst body = { email };\r\n\r\n\t\t\tconst response = await forgetPassword(body);\r\n\r\n\t\t\tthis.props.storeForgetedPasswordEmail(email);\r\n\r\n\t\t\tthis.props.enqueueSnackbar(response.data.message, { variant: 'success' });\r\n\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.props.history.push('/forgetPassword/submitCode');\r\n\t\t\t}, 2000);\r\n\r\n\t\t\tthis.setState({ loading: false });\r\n\t\t} catch (error) {\r\n\t\t\tthis.props.enqueueSnackbar(error.response.data.error || 'Something Went Wrong', { variant: 'error' });\r\n\r\n\t\t\tthis.setState({ loading: false });\r\n\t\t}\r\n\t};\r\n\r\n\tchangeHandler = e => {\r\n\t\tthis.setState({ email: e.target.value });\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { email, loading } = this.state;\r\n\r\n\t\treturn (\r\n\t\t\t<Form type='Forget Password'>\r\n\t\t\t\t<Alert severity='info' fullWidth>\r\n\t\t\t\t\tWe`ll send you a gmail with the verification code. Please not that the code is available for only 5 minutes.\r\n\t\t\t\t</Alert>\r\n\r\n\t\t\t\t<br />\r\n\t\t\t\t<form onSubmit={this.submitHandler}>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tid='outlined-basic'\r\n\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\tlabel='Email'\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tonChange={this.changeHandler}\r\n\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<LoadingBtn name='Send Email' fullWidth={true} loading={loading} type='submit' />\r\n\t\t\t\t</form>\r\n\t\t\t</Form>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => ({ loading: state.loading });\r\n\r\nconst mapDispatcheToProps = dispatch => ({\r\n\tstoreForgetedPasswordEmail: email => {\r\n\t\tdispatch(storeForgetedPasswordEmail(email));\r\n\t}\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatcheToProps)(withSnackbar(ForgetPassword));\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport LoadingBtn from '../../components/Btn/LoadingBtn';\r\nimport { receivePasswordRecoveryCode } from '../../Apis/auth';\r\nimport Form from '../../components/Form/Form';\r\nimport { withSnackbar } from 'notistack';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport { TextField } from '@material-ui/core';\r\nexport class SubmitCode extends Component {\r\n\tstate = {\r\n\t\tloading: false,\r\n\t\tcode: ''\r\n\t};\r\n\r\n\r\n\tchangeHandler = e => {\r\n\t\tthis.setState({ code: e.target.value });\r\n\t};\r\n\r\n\tsubmitHandler = async e => {\r\n\t\te.preventDefault();\r\n\r\n\t\tthis.setState({ loading: true });\r\n\r\n\t\ttry {\r\n\r\n      const {code} = this.state;\r\n\r\n      const {email}  = this.props;\r\n\r\n      const body = {code, email}\r\n      \r\n      const response = await receivePasswordRecoveryCode(body);\r\n\r\n\r\n      setTimeout(() => {\r\n        this.props.history.push(`/forgetPassword/changePassword/${response.data.slug}`)\r\n\r\n      },2000)\r\n      \r\n      this.setState({loading: false})\r\n    \r\n\r\n      this.props.enqueueSnackbar(response?.data?.message , {variant: 'success'})\r\n\r\n\r\n    } catch (error) {\r\n      this.props.enqueueSnackbar(error.response?.data?.error || 'Something Went Wrong', {variant: 'error'})\r\n\r\n      this.setState({loading: false})\r\n\r\n\r\n    }\r\n\t};\r\n\trender() {\r\n\r\n    if(!this.props.email) this.props.history.push('/'); \r\n\r\n    const {loading, code} = this.state;\r\n\r\n\t\treturn (\r\n\t\t\t<Form type='Submit Your Code'>\r\n        \r\n\t\t\t\t<Alert severity='info' fullWidth>\r\n\t\t\t\t\tPlease Check your code via Gmail... the code is only available for 5 minutes\r\n\t\t\t\t</Alert>\r\n        <br/>\r\n        \r\n        <form onSubmit = {this.submitHandler}>\r\n\r\n          <TextField\r\n              id='outlined-basic'\r\n              name='code'\r\n              label='Code'\r\n              variant='outlined'\r\n              required\r\n              value={code}\r\n              fullWidth\r\n              onChange={this.changeHandler}\r\n              />\r\n            <br />\r\n            <br />\r\n            <LoadingBtn name='Submit' fullWidth={true} loading={loading} type='submit' />\r\n          </form>\r\n\t\t\t</Form>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => ({email: state.forgetPasswordEmail})\r\n\r\nexport default connect(mapStateToProps)(withSnackbar(SubmitCode));\r\n","import React, { Component } from 'react';\r\nimport LoadingBtn from '../../components/Btn/LoadingBtn';\r\nimport { changePassword } from '../../Apis/auth';\r\nimport Form from '../../components/Form/Form';\r\nimport { withSnackbar } from 'notistack';\r\nimport { TextField } from '@material-ui/core';\r\n\r\nexport class ChangePassword extends Component {\r\n\tstate = {\r\n\t\tloading: false,\r\n\t\tfirstPassword: '',\r\n\t\tsecondPassword: ''\r\n\t};\r\n\r\n\tslug = this.props.match.params.slug;\r\n\r\n\tsubmitHandler = async e => {\r\n\t\te.preventDefault();\r\n\r\n\t\tthis.setState({ loading: true });\r\n\r\n    try {\r\n\t\tconst { firstPassword, secondPassword } = this.state;\r\n\r\n\t\tconst body = { firstPassword, secondPassword, slug: this.slug };\r\n\r\n\t\tconst response = await changePassword(body);\r\n\r\n\t\tthis.props.enqueueSnackbar(response.data.message, {variant: 'success'});\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.props.history.push('/');\r\n\t\t}, 2000);\r\n\r\n    this.setState({loading: false}) // this will be called before the setTimeOut..\r\n\t\t} catch (error) {\r\n      this.setState({loading: false})\r\n\r\n\t\t\tthis.props.enqueueSnackbar(error.response?.data?.error || 'Something Went Wrong', {variant: 'error'})\r\n\t\t}\r\n\t};\r\n\r\n  changeHandler = e => {\r\n    this.setState({[e.target.name]: e.target.value});\r\n  }\r\n\r\n\r\n\trender() {\r\n\t\tconst { firstPassword, secondPassword, loading } = this.state;\r\n\r\n\t\treturn (\r\n\t\t\t<Form type='Change Password'>\r\n\t\t\t\t<form onSubmit={this.submitHandler}>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tid='outlined-basic'\r\n\t\t\t\t\t\tname='firstPassword'\r\n\t\t\t\t\t\tlabel='Password'\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tvalue={firstPassword}\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tonChange={this.changeHandler}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tid='outlined-basic'\r\n\t\t\t\t\t\tname='secondPassword'\r\n\t\t\t\t\t\tlabel='Confirm'\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tvalue={secondPassword}\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tonChange={this.changeHandler}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<LoadingBtn name='Change' fullWidth={true} loading={loading} type='submit' />\r\n\t\t\t\t</form>\r\n\t\t\t</Form>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withSnackbar(ChangePassword);\r\n","import React from 'react';\nimport { Switch, Route, Redirect, withRouter } from 'react-router-dom';\nimport Outer from './components/Outer/Outer';\nimport { Component } from 'react';\nimport AOS from 'aos';\nimport SignUp from './containers/SignUp/SignUp';\nimport SignIn from './containers/SignIn/signIn';\nimport BugTracker from './containers/bugTracker/BugTracker';\nimport axios from 'axios';\nimport ForgetPassword from './containers/ForgetPassword/ForgetPassword';\nimport SubmitCode from './containers/ForgetPassword/SubmitCode';\nimport ChangePassword from './containers/ForgetPassword/ChangePassword';\n\nclass App extends Component {\n\tcomponentDidMount() {\n\t\twindow.addEventListener('storage', this.detectTokenPlaying, false);\n\n\t\tAOS.init({\n\t\t\toffset: 120, // offset (in px) from the original trigger point\n\t\t\tdelay: 0, // values from 0 to 3000, with step 50ms\n\t\t\tduration: 1200, // values from 0 to 3000, with step 50ms\n\t\t\teasing: 'ease', // default easing for AOS animations\n\t\t\tonce: false, // whether animation should happen only once - while scrolling down\n\t\t\tmirror: true // whether elements should animate out while scrolling past them\n\t\t});\n\t}\n\n\tdetectTokenPlaying = event => {\n\t\t// any playing with the token will get this user out.. but we have only one exception which is if the user have 2 tabs with the application opened for the same browser. this will trigger a change and will kick him out after the login because the other tab has no token... so we want to prevent the logic from kicking him out if the oldValue was null.\n\n\t\tif (event.key === 'token' && event.oldValue === null) return;\n\n\t\tif (event.key === 'token' && event.oldValue !== event.newValue) {\n\t\t\tthis.getOut();\n\t\t}\n\t};\n\n\tgetOut = () => {\n\t\tlocalStorage.removeItem('token');\n\t\tthis.props.history.push('/');\n\t};\n\n\trender() {\n\t\tconst userToken = localStorage.getItem('token');\n\n\t\tconst routes =\n\t\t\tuserToken === null ? (\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route path='/' exact component={Outer} />\n\t\t\t\t\t<Route path='/signup' exact component={SignUp} />\n\t\t\t\t\t<Route path='/signin' exact component={SignIn} />\n\t\t\t\t\t<Route path='/forgetPassword' exact component={ForgetPassword} />\n\t\t\t\t\t<Route path='/forgetPassword/submitCode' exact component={SubmitCode} />\n\t\t\t\t\t<Route path='/forgetPassword/changePassword/:slug' exact component={ChangePassword} />\n\t\t\t\t\t<Redirect to='/' />\n\t\t\t\t</Switch>\n\t\t\t) : (\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route path='/bugtracker' component={BugTracker} />\n\t\t\t\t\t<Redirect to='/bugtracker/profile' />\n\t\t\t\t</Switch>\n\t\t\t);\n\n\t\treturn <div id='App'>{routes}</div>;\n\t}\n}\n\naxios.interceptors.response.use(\n\tresponse => {\n\t\treturn response;\n\t},\n\terror => {\n\t\tif (error.response.status === 401 && error.response.data.error === 'Token is expired') {\n\t\t\tlocalStorage.removeItem('token');\n\t\t}\n\t\treturn Promise.reject(error);\n\t}\n);\n\nexport default withRouter(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { createMuiTheme } from '@material-ui/core/styles';\r\n\r\nimport { lightBlue } from '@material-ui/core/colors';\r\n\r\nconst theme = createMuiTheme({\r\n\tpalette: {\r\n\t\tprimary: lightBlue\r\n\t}\r\n});\r\n\r\nexport default theme;\r\n","import * as actionTypes from './actionTypes';\r\n\r\nconst initialState = {\r\n\tcurrentUser: null,\r\n\tloading: false,\r\n\tcurrentTeamId: null,\r\n\tforgetPasswordEmail: null\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase actionTypes.start:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: true\r\n\t\t\t};\r\n\r\n\t\tcase actionTypes.errorOccured:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false\r\n\t\t\t};\r\n\r\n\t\tcase actionTypes.storeUserData:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tcurrentUser: action.payload.user\r\n\t\t\t};\r\n\r\n\t\tcase actionTypes.updateUserData:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcurrentUser: action.payload.updatedUser\r\n\t\t\t};\r\n\r\n\t\tcase actionTypes.newKey:\r\n\t\t\tconst updatedUser = { ...state.currentUser };\r\n\r\n\t\t\tupdatedUser.privateKey = action.payload.updatedKey;\r\n\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcurrentUser: updatedUser\r\n\t\t\t};\r\n\r\n\t\tcase actionTypes.saveCurrentTeam:\r\n\t\t\tconst currentTeamId = action.payload.currentTeamId;\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcurrentTeamId\r\n\t\t\t};\r\n\r\n\t\tcase actionTypes.forgetPassword:\r\n\t\t\tconst email = action.payload.email;\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tforgetPasswordEmail: email\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default reducer;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport io from 'socket.io-client';\nimport * as serviceWorker from './serviceWorker';\nimport { BrowserRouter } from 'react-router-dom';\n\n// NOTISTACK\nimport { SnackbarProvider } from 'notistack';\n\n// THEME\nimport { ThemeProvider } from '@material-ui/core';\nimport theme from './theme';\n\n// AXIOS\nimport axios from 'axios';\n\n// REDUX\nimport { Provider } from 'react-redux';\n\nimport { createStore, compose, applyMiddleware } from 'redux';\n\nimport thunk from 'redux-thunk';\n\nimport reducer from './store/reducer';\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst store = createStore(reducer, composeEnhancers(applyMiddleware(thunk)));\n\nconst baseUrl = 'https://the-bug-tracker-server.glitch.me/';\n// const baseUrl = 'http://localhost:2300';\n\naxios.defaults.baseURL = baseUrl;\n\nexport const socket = io(`${baseUrl}/`);\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<Provider store={store}>\n\t\t\t<BrowserRouter>\n\t\t\t\t<ThemeProvider theme={theme}>\n\t\t\t\t\t<SnackbarProvider\n\t\t\t\t\t\tmaxSnack={3}\n\t\t\t\t\t\tanchorOrigin={{\n\t\t\t\t\t\t\tvertical: 'bottom',\n\t\t\t\t\t\t\thorizontal: 'left'\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<App />\n\t\t\t\t\t</SnackbarProvider>\n\t\t\t\t</ThemeProvider>\n\t\t\t</BrowserRouter>\n\t\t</Provider>\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}